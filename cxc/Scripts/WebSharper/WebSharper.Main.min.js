(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z;$.Define($$,{WebSharper:{AggregateException:$.Class({},{New:function(_0){return $.New(this,a.New1("One or more errors occurred.",_0));},New1:function(_1){return $.New(this,b.New1(_1));}}),ArgumentException:$.Class({},{New:function(){return $.New(this,c.New1("Value does not fall within the expected range."));},New1:function(_3){return $.New(this,b.New1(_3));}}),Arrays:{average:function(_4){return d(e.sum(_4))/d(_4.length);},averageBy:function(_5,_6){return d(e.sumBy(_5,_6))/d(_6.length);},blit:function(_7,_8,_9,_,ba){var bb;e.checkRange(_7,_8,ba);e.checkRange(_9,_,ba);for(bb=0;bb<=ba-1;bb++){e.set(_9,_+bb,e.get(_7,_8+bb));}return;},checkBounds:function(bb,bc){return(bc<0?true:bc>=bb.length)?f.FailWith("Index was outside the bounds of the array."):null;},checkBounds2D:function(bd,be,bf){return(((be<0?true:bf<0)?true:be>=bd.length)?true:bf>=(bd.length?bd[0].length:0))?f.Raise(g.New()):null;},checkLength:function(bg,bh){return bg.length!==bh.length?f.FailWith("Arrays differ in length."):null;},checkRange:function(bi,bj,bk){return((bk<0?true:bj<0)?true:bi.length<bj+bk)?f.FailWith("Index was outside the bounds of the array."):null;},choose:function(bl,bm){var bn,bo,bp,bq,br;bn=[];for(bo=0;bo<=bm.length-1;bo++){bp=bl(e.get(bm,bo));if(bp.$==0){bq=null;}else{br=bp.$0;bq=bn.push(br);}}return bn;},collect:function(bs,bt){return h.prototype.concat.apply([],e.map(bs,bt));},concat:function(bu){return h.prototype.concat.apply([],e.ofSeq(bu));},create:function(bv,bw){var bx,by;bx=h(bv);for(by=0;by<=bv-1;by++){e.set(bx,by,bw);}return bx;},create2D:function(bz){var bA,bC,bD;bA=function(bB){return e.ofSeq(bB);};bC=i.map(bA,bz);bD=e.ofSeq(bC);bD.dims=2;return bD;},exists2:function(bE,bF,bG){e.checkLength(bF,bG);return i.exists2(bE,bF,bG);},fill:function(bH,bI,bJ,bK){var bL;e.checkRange(bH,bI,bJ);for(bL=bI;bL<=bI+bJ-1;bL++){e.set(bH,bL,bK);}return;},filter:function(bM,bN){var bO,bP;bO=[];for(bP=0;bP<=bN.length-1;bP++){bM(e.get(bN,bP))?bO.push(e.get(bN,bP)):null;}return bO;},find:function(bQ,bR){var bS,bT,bU;bS=e.tryFind(bQ,bR);if(bS.$==0){bT=f.FailWith("KeyNotFoundException");}else{bU=bS.$0;bT=bU;}return bT;},findINdex:function(bV,bW){var bX,bY,bZ;bX=e.tryFindIndex(bV,bW);if(bX.$==0){bY=f.FailWith("KeyNotFoundException");}else{bZ=bX.$0;bY=bZ;}return bY;},fold:function(b0,b1,b2){var b3,b4;b3=b1;for(b4=0;b4<=b2.length-1;b4++){b3=(b0(b3))(e.get(b2,b4));}return b3;},fold2:function(b5,b6,b7,b8){var b9,b_;e.checkLength(b7,b8);b9=b6;for(b_=0;b_<=b7.length-1;b_++){b9=((b5(b9))(e.get(b7,b_)))(e.get(b8,b_));}return b9;},foldBack:function(b$,ca,cb){var cc,cd,ce;cc=cb;cd=ca.length;for(ce=1;ce<=cd;ce++){cc=(b$(e.get(ca,cd-ce)))(cc);}return cc;},foldBack2:function(cf,cg,ch,ci){var cj,ck,cl;e.checkLength(cg,ch);cj=cg.length;ck=ci;for(cl=1;cl<=cj;cl++){ck=((cf(e.get(cg,cj-cl)))(e.get(ch,cj-cl)))(ck);}return ck;},forall2:function(cm,cn,co){e.checkLength(cn,co);return i.forall2(cm,cn,co);},get:function(cp,cq){e.checkBounds(cp,cq);return cp[cq];},get2D:function(cr,cs,ct){e.checkBounds2D(cr,cs,ct);return cr[cs][ct];},init:function(cu,cv){var cw,cx;cu<0?f.FailWith("Negative size given."):null;cw=h(cu);for(cx=0;cx<=cu-1;cx++){e.set(cw,cx,cv(cx));}return cw;},iter:function(cy,cz){var cA;for(cA=0;cA<=cz.length-1;cA++){cy(e.get(cz,cA));}return;},iter2:function(cB,cC,cD){var cE;e.checkLength(cC,cD);for(cE=0;cE<=cC.length-1;cE++){(cB(e.get(cC,cE)))(e.get(cD,cE));}return;},iteri:function(cF,cG){var cH;for(cH=0;cH<=cG.length-1;cH++){(cF(cH))(e.get(cG,cH));}return;},iteri2:function(cI,cJ,cK){var cL;e.checkLength(cJ,cK);for(cL=0;cL<=cJ.length-1;cL++){((cI(cL))(e.get(cJ,cL)))(e.get(cK,cL));}return;},length:function(cM){var cN;cN=cM.dims;return cN===2?cM.length*cM.length:cM.length;},map:function(cO,cP){var cQ,cR;cQ=h(cP.length);for(cR=0;cR<=cP.length-1;cR++){e.set(cQ,cR,cO(e.get(cP,cR)));}return cQ;},map2:function(cS,cT,cU){var cV,cW;e.checkLength(cT,cU);cV=h(cU.length);for(cW=0;cW<=cU.length-1;cW++){e.set(cV,cW,(cS(e.get(cT,cW)))(e.get(cU,cW)));}return cV;},mapi:function(cX,cY){var cZ,c0;cZ=h(cY.length);for(c0=0;c0<=cY.length-1;c0++){e.set(cZ,c0,(cX(c0))(e.get(cY,c0)));}return cZ;},mapi2:function(c1,c2,c3){var c4,c5;e.checkLength(c2,c3);c4=h(c2.length);for(c5=0;c5<=c2.length-1;c5++){e.set(c4,c5,((c1(c5))(e.get(c2,c5)))(e.get(c3,c5)));}return c4;},max:function(c6){return e.reduce(function(c7){return function(c8){return f.Max(c7,c8);};},c6);},maxBy:function(c9,c_){return e.reduce(function(c$){return function(da){return j.Compare(c9(c$),c9(da))===1?c$:da;};},c_);},min:function(db){return e.reduce(function(dc){return function(dd){return f.Min(dc,dd);};},db);},minBy:function(de,df){return e.reduce(function(dg){return function(dh){return j.Compare(de(dg),de(dh))===-1?dg:dh;};},df);},nonEmpty:function(di){return di.length===0?f.FailWith("The input array was empty."):null;},ofSeq:function(dj){var dk,dl,dm;dk=[];dl=k.Get(dj);try{while(dl.MoveNext()){dk.push(dl.get_Current());}dm=dk;}finally{dl.Dispose!=undefined?dl.Dispose():null;}return dm;},partition:function(dn,_do){var dp,dq,dr;dp=[];dq=[];for(dr=0;dr<=_do.length-1;dr++){dn(e.get(_do,dr))?dp.push(e.get(_do,dr)):dq.push(e.get(_do,dr));}return[dp,dq];},permute:function(ds,dt){var du,dv;du=h(dt.length);for(dv=0;dv<=dt.length-1;dv++){e.set(du,ds(dv),e.get(dt,dv));}return du;},pick:function(dw,dx){var dy,dz,dA;dy=e.tryPick(dw,dx);if(dy.$==0){dz=f.FailWith("KeyNotFoundException");}else{dA=dy.$0;dz=dA;}return dz;},reduce:function(dB,dC){var dD,dE;e.nonEmpty(dC);dD=e.get(dC,0);for(dE=1;dE<=dC.length-1;dE++){dD=(dB(dD))(e.get(dC,dE));}return dD;},reduceBack:function(dF,dG){var dH,dI,dJ;e.nonEmpty(dG);dH=dG.length;dI=e.get(dG,dH-1);for(dJ=2;dJ<=dH;dJ++){dI=(dF(e.get(dG,dH-dJ)))(dI);}return dI;},reverse:function(dK,dL,dM){var dN;dN=e.sub(dK,dL,dM).slice().reverse();return e.blit(dN,0,dK,dL,e.length(dN));},scan:function(dO,dP,dQ){var dR,dS;dR=h(1+dQ.length);e.set(dR,0,dP);for(dS=0;dS<=dQ.length-1;dS++){e.set(dR,dS+1,(dO(e.get(dR,dS)))(e.get(dQ,dS)));}return dR;},scanBack:function(dT,dU,dV){var dW,dX,dY;dW=dU.length;dX=h(1+dW);e.set(dX,dW,dV);for(dY=0;dY<=dW-1;dY++){e.set(dX,dW-dY-1,(dT(e.get(dU,dW-dY-1)))(e.get(dX,dW-dY)));}return dX;},set:function(dZ,d0,d1){e.checkBounds(dZ,d0);dZ[d0]=d1;return;},set2D:function(d2,d3,d4,d5){e.checkBounds2D(d2,d3,d4);d2[d3][d4]=d5;return;},setSub:function(d6,d7,d8,d9){var d_;for(d_=0;d_<=d8-1;d_++){e.set(d6,d7+d_,e.get(d9,d_));}return;},setSub2D:function(d$,ea,eb,ec,ed,ee){var ef,eg;for(ef=0;ef<=ec-1;ef++){for(eg=0;eg<=ed-1;eg++){e.set2D(d$,ea+ef,eb+eg,e.get2D(ee,ef,eg));}}return;},sort:function(eh){return e.sortBy(function(ei){return ei;},eh);},sortBy:function(ej,ek){return ek.slice().sort(function(el,em){return f.Compare(ej(el),ej(em));});},sortInPlace:function(en){return e.sortInPlaceBy(function(eo){return eo;},en);},sortInPlaceBy:function(ep,eq){return eq.sort(function(er,es){return f.Compare(ep(er),ep(es));});},sortInPlaceWith:function(et,eu){return eu.sort(function(ev,ew){return(et(ev))(ew);});},sortWith:function(ex,ey){return ey.slice().sort(function(ez,eA){return(ex(ez))(eA);});},sub:function(eB,eC,eD){e.checkRange(eB,eC,eD);return eB.slice(eC,eC+eD);},sub2D:function(eE,eF,eG,eH,eI){var eJ,eK,eL,eM,eN;eJ=eH<0?0:eH;eK=eI<0?0:eI;eL=e.zeroCreate2D(eJ,eK);for(eM=0;eM<=eJ-1;eM++){for(eN=0;eN<=eK-1;eN++){e.set2D(eL,eM,eN,e.get2D(eE,eF+eM,eG+eN));}}return eL;},sum:function($arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$arr[i];return sum;},sumBy:function($f,$arr){var $0=this,$this=this;var sum=0;for(var i=0;i<$arr.length;i++)sum+=$f($arr[i]);return sum;},tryFind:function(eO,eP){var eQ,eR;eQ={$:0};eR=0;while(eR<eP.length?eQ.$==0:false){eO(e.get(eP,eR))?eQ={$:1,$0:e.get(eP,eR)}:null;eR=eR+1;}return eQ;},tryFindIndex:function(eS,eT){var eU,eV;eU={$:0};eV=0;while(eV<eT.length?eU.$==0:false){eS(e.get(eT,eV))?eU={$:1,$0:eV}:null;eV=eV+1;}return eU;},tryPick:function(eW,eX){var eY,eZ,e0;eY={$:0};eZ=0;while(eZ<eX.length?eY.$==0:false){e0=eW(e.get(eX,eZ));e0.$==1?eY=e0:null;eZ=eZ+1;}return eY;},unzip:function(e1){var e2,e3,e4,e5,e6,e7;e2=[];e3=[];for(e4=0;e4<=e1.length-1;e4++){e5=e.get(e1,e4);e6=e5[1];e7=e5[0];e2.push(e7);e3.push(e6);}return[e2,e3];},unzip3:function(e8){var e9,e_,e$,fa,fb,fc,fd,fe;e9=[];e_=[];e$=[];for(fa=0;fa<=e8.length-1;fa++){fb=e.get(e8,fa);fc=fb[2];fd=fb[1];fe=fb[0];e9.push(fe);e_.push(fd);e$.push(fc);}return[e9,e_,e$];},zeroCreate2D:function(ff,fg){var fh;fh=e.init(ff,function(){return h(fg);});fh.dims=2;return fh;},zip:function(fj,fk){var fl,fm;e.checkLength(fj,fk);fl=h(fj.length);for(fm=0;fm<=fj.length-1;fm++){e.set(fl,fm,[e.get(fj,fm),e.get(fk,fm)]);}return fl;},zip3:function(fn,fo,fp){var fq,fr;e.checkLength(fn,fo);e.checkLength(fo,fp);fq=h(fn.length);for(fr=0;fr<=fn.length-1;fr++){e.set(fq,fr,[e.get(fn,fr),e.get(fo,fr),e.get(fp,fr)]);}return fq;}},Arrays2D:{copy:function(fs){return l.init(fs.length,fs.length?fs[0].length:0,function(ft){return function(fu){return e.get2D(fs,ft,fu);};});},init:function(fv,fw,fx){var fy,fz,fA;fy=e.zeroCreate2D(fv,fw);for(fz=0;fz<=fv-1;fz++){for(fA=0;fA<=fw-1;fA++){e.set2D(fy,fz,fA,(fx(fz))(fA));}}return fy;},iter:function(fB,fC){var fD,fE,fF,fG;fD=fC.length;fE=fC.length?fC[0].length:0;for(fF=0;fF<=fD-1;fF++){for(fG=0;fG<=fE-1;fG++){fB(e.get2D(fC,fF,fG));}}return;},iteri:function(fH,fI){var fJ,fK,fL,fM;fJ=fI.length;fK=fI.length?fI[0].length:0;for(fL=0;fL<=fJ-1;fL++){for(fM=0;fM<=fK-1;fM++){((fH(fL))(fM))(e.get2D(fI,fL,fM));}}return;},map:function(fN,fO){return l.init(fO.length,fO.length?fO[0].length:0,function(fP){return function(fQ){return fN(e.get2D(fO,fP,fQ));};});},mapi:function(fR,fS){return l.init(fS.length,fS.length?fS[0].length:0,function(fT){return function(fU){return((fR(fT))(fU))(e.get2D(fS,fT,fU));};});}},AsyncProxy:$.Class({},{get_CancellationToken:function(){return m.GetCT();},get_DefaultCancellationToken:function(){return(m.defCTS())[0];}}),CancellationTokenSource:$.Class({Cancel:function(){var fV,fW,f0,f1;if(!this.c){this.c=true;fW=function(fX){var fY,fZ;try{fX(null);fY={$:0};}catch(fZ){fY={$:1,$0:fZ};}return fY;};f0=this.r;f1=e.choose(fW,f0);fV=e.length(f1)>0?f.Raise(a.New(f1)):null;}else{fV=null;}return fV;},Cancel1:function(f2){var f3,f4,f5,f7;if(!f2){f3=this.Cancel();}else{if(!this.c){this.c=true;f5=function(f6){return f6(null);};f7=this.r;f4=e.iter(f5,f7);}else{f4=null;}f3=f4;}return f3;},CancelAfter:function(f8){var f9,f_,ga,gc=this;if(!this.c){f_=this.pending;n.iter(function(f$){return o(f$);},f_);ga=p(function(){return gc.Cancel();},f8);f9=void(this.pending={$:1,$0:ga});}else{f9=null;}return f9;},get_IsCancellationRequested:function(){return this.c;}},{CreateLinkedTokenSource:function(gd,ge){return q.CreateLinkedTokenSource1([gd,ge]);},CreateLinkedTokenSource1:function(gf){var gg,gh;gg=q.New();gh=function(gi){var gj;gj=m.Register(gi,function(){return function(){return gg.Cancel();}();});return;};return e.iter(gh,gf);},New:function(){var gm;gm=$.New(this,{});gm.c=false;gm.pending={$:0};gm.r=[];return gm;}}),Char:$.Class({},{GetNumericValue:function(gn){return(gn>=48?gn<=57:false)?d(gn)-d(48):-1;},IsControl:function(go){return(go>=0?go<=31:false)?true:go>=128?go<=159:false;},IsDigit:function(gp){return gp>=48?gp<=57:false;},IsLetter:function(gq){return(gq>=65?gq<=90:false)?true:gq>=97?gq<=122:false;},IsLetterOrDigit:function(gr){return r.IsLetter(gr)?true:r.IsDigit(gr);},IsLower:function(gs){return gs>=97?gs<=122:false;},IsUpper:function(gt){return gt>=65?gt<=90:false;},IsWhiteSpace:function($c){var $0=this,$this=this;return $$.String.fromCharCode($c).match(/\s/)!==null;},Parse:function(gu){return gu.length===1?gu.charCodeAt(0):f.FailWith("String must be exactly one character long.");}}),Concurrency:{AwaitEvent:function(gv){var gw;gw=function(gx){var gy,gz,gA,gB,gC,gD;gy=function(){return s.subscribeTo(gv,function(gF){var gG;t.Force(gz).Dispose();t.Force(gB).Dispose();gG=function(){return gx.k.call(null,{$:0,$0:gF});};return m.scheduler().Fork(gG);});};gz=t.Create(gy);gA=function(){return m.Register(gx.ct,function(){var gK;t.Force(gz).Dispose();gK=function(){return gx.k.call(null,{$:2,$0:u.New()});};return m.scheduler().Fork(gK);});};gB=t.Create(gA);gC=t.Force(gz);gD=t.Force(gB);return null;};return m.checkCancel(gw);},Bind:function(gM,gN){var gO;gO=function(gP){return gM({k:function(gQ){var gR,gS,gT,gX;if(gQ.$==0){gS=gQ.$0;gT=function(){var gV,gW;try{gV=(gN(gS))(gP);}catch(gW){gV=gP.k.call(null,{$:1,$0:gW});}return gV;};gR=m.scheduler().Fork(gT);}else{gX=function(){return gP.k.call(null,gQ);};gR=m.scheduler().Fork(gX);}return gR;},ct:gP.ct});};return m.checkCancel(gO);},Catch:function(gZ){var g0;g0=function(g1){var g2,g7;try{g2=gZ({k:function(g3){var g4,g5,g6;if(g3.$==0){g5=g3.$0;g4=g1.k.call(null,{$:0,$0:{$:0,$0:g5}});}else{if(g3.$==1){g6=g3.$0;g4=g1.k.call(null,{$:0,$0:{$:1,$0:g6}});}else{g4=g1.k.call(null,g3);}}return g4;},ct:g1.ct});}catch(g7){g2=g1.k.call(null,{$:0,$0:{$:1,$0:g7}});}return g2;};return m.checkCancel(g0);},Combine:function(g8,g9){return m.Bind(g8,function(){return g9;});},Delay:function(g$){var ha;ha=function(hb){var hc,hd;try{hc=(g$(null))(hb);}catch(hd){hc=hb.k.call(null,{$:1,$0:hd});}return hc;};return m.checkCancel(ha);},For:function(he,hf){return m.Using(k.Get(he),function(hg){return m.While(function(){return hg.MoveNext();},m.Delay(function(){return hf(hg.get_Current());}));});},FromContinuations:function(hj){var hk;hk=function(hl){var hm,hn;hm=[false];hn=function(ho){var hp;if(hm[0]){hp=f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");}else{hm[0]=true;hp=m.scheduler().Fork(ho);}return hp;};return hj([function(hq){return hn(function(){return hl.k.call(null,{$:0,$0:hq});});},function(hs){return hn(function(){return hl.k.call(null,{$:1,$0:hs});});},function(hu){return hn(function(){return hl.k.call(null,{$:2,$0:hu});});}]);};return m.checkCancel(hk);},GetCT:$.Field(function(){var hw;hw=function(hx){return hx.k.call(null,{$:0,$0:hx.ct});};return m.checkCancel(hw);}),Ignore:function(hy){return m.Bind(hy,function(){return m.Return(null);});},OnCancel:function(hA){var hB;hB=function(hC){return hC.k.call(null,{$:0,$0:m.Register(hC.ct,hA)});};return m.checkCancel(hB);},Parallel:function(hD){var hE,hF,hG;hE=e.ofSeq(hD);if(e.length(hE)===0){hF=m.Return([]);}else{hG=function(hH){var hI,hJ,hK,hL;hI=hE.length;hJ=[hI];hK=e.create(hI,undefined);hL=function(hM){return function(hN){var hO,hP,hQ,hR,hS,hT,hU,hV,hW;hO=[hJ[0],hN];if(hO[0]===0){hP=null;}else{if(hO[0]===1){if(hO[1].$==0){hR=hO[1].$0;e.set(hK,hM,hR);hJ[0]=0;hQ=hH.k.call(null,{$:0,$0:hK});}else{hO[0];hS=hO[1];hJ[0]=0;hQ=hH.k.call(null,hS);}hP=hQ;}else{if(hO[1].$==0){hU=hO[1].$0;hV=hO[0];e.set(hK,hM,hU);hT=void(hJ[0]=hV-1);}else{hO[0];hW=hO[1];hJ[0]=0;hT=hH.k.call(null,hW);}hP=hT;}}return hP;};};return e.iteri(function(hX){return function(hY){var hZ;hZ=function(){return hY({k:hL(hX),ct:hH.ct});};return m.scheduler().Fork(hZ);};},hE);};hF=m.checkCancel(hG);}return hF;},Register:function(h1,h2){var h3;h3=h1.r.push(h2)-1;return{Dispose:function(){return e.set(h1.r,h3,function(){});}};},Return:function(h6){var h7;h7=function(h8){return h8.k.call(null,{$:0,$0:h6});};return m.checkCancel(h7);},Scheduler:$.Class({Fork:function(h9){var h_,h$,ib=this;this.robin.push(h9);if(this.idle){this.idle=false;h$=p(function(){return ib.tick();},0);h_=void h$;}else{h_=null;}return h_;},tick:function(){var ic,id,ie,_if,ig,ih,ij=this;ic=v.now();id=true;while(id){ie=this.robin.length;if(ie===0){this.idle=true;_if=id=false;}else{(this.robin.shift())(null);if(v.now()-ic>40){ih=p(function(){return ij.tick();},0);ig=id=false;}else{ig=null;}_if=ig;}}return;}},{New:function(){var ik;ik=$.New(this,{});ik.idle=true;ik.robin=[];return ik;}}),Sleep:function(il){var im;im=function(_in){var io,ip,iq,ir,is,it;io=function(){return p(function(){var iw;t.Force(ir).Dispose();iw=function(){return _in.k.call(null,{$:0,$0:null});};return m.scheduler().Fork(iw);},il);};ip=t.Create(io);iq=function(){return m.Register(_in.ct,function(){var iA;o(t.Force(ip));iA=function(){return _in.k.call(null,{$:2,$0:u.New()});};return m.scheduler().Fork(iA);});};ir=t.Create(iq);is=t.Force(ip);it=t.Force(ir);return null;};return m.checkCancel(im);},Start:function(iC,iD){return m.StartWithContinuations(iC,function(){},function(iF){var iG;iG=[iF];return w?w.log.apply(w,["WebSharper: Uncaught asynchronous exception"].concat(iG)):undefined;},function(){},iD);},StartChild:function(iI){var iJ;iJ=function(iK){var iL,iM,iN,iQ,iV;iL=[{$:0}];iM=[];iN=function(){return iI({k:function(iP){iL[0]={$:1,$0:iP};while(iM.length>0){(iM.shift())(iP);}return;},ct:iK.ct});};m.scheduler().Fork(iN);iQ=function(iR){var iS,iT,iU;iS=iL[0];if(iS.$==0){iT=iM.push(iR.k);}else{iU=iS.$0;iT=iR.k.call(null,iU);}return iT;};iV=m.checkCancel(iQ);return iK.k.call(null,{$:0,$0:iV});};return m.checkCancel(iJ);},StartWithContinuations:function(iW,iX,iY,iZ,i0){var i1,i2;i1=f.DefaultArg(i0,(m.defCTS())[0]);i2=function(){return iW({k:function(i4){var i5,i6,i7,i8;if(i4.$==1){i6=i4.$0;i5=iY(i6);}else{if(i4.$==2){i7=i4.$0;i5=iZ(i7);}else{i8=i4.$0;i5=iX(i8);}}return i5;},ct:i1});};return m.scheduler().Fork(i2);},TryCancelled:function(i9,i_){var i$;i$=function(ja){return i9({k:function(jb){var jc,jd;if(jb.$==2){jd=jb.$0;i_(jd);jc=ja.k.call(null,jb);}else{jc=ja.k.call(null,jb);}return jc;},ct:ja.ct});};return m.checkCancel(i$);},TryFinally:function(je,jf){var jg;jg=function(jh){return je({k:function(ji){var jj,jk;try{jf(null);jj=jh.k.call(null,ji);}catch(jk){jj=jh.k.call(null,{$:1,$0:jk});}return jj;},ct:jh.ct});};return m.checkCancel(jg);},TryWith:function(jl,jm){var jn;jn=function(jo){return jl({k:function(jp){var jq,jr,js,jt,ju;if(jp.$==0){jr=jp.$0;jq=jo.k.call(null,{$:0,$0:jr});}else{if(jp.$==1){js=jp.$0;try{jt=(jm(js))(jo);}catch(ju){jt=jo.k.call(null,jp);}jq=jt;}else{jq=jo.k.call(null,jp);}}return jq;},ct:jo.ct});};return m.checkCancel(jn);},Using:function(jv,jw){return m.TryFinally(jw(jv),function(){return jv.Dispose();});},While:function(jy,jz){return jy(null)?m.Bind(jz,function(){return m.While(jy,jz);}):m.Return(null);},checkCancel:function(jB){return function(jC){return jC.ct.c?jC.k.call(null,{$:2,$0:u.New()}):jB(jC);};},defCTS:$.Field(function(){return[q.New()];}),scheduler:$.Field(function(){return x.New();})},Control:{createEvent:function(jD,jE,jF){return{AddHandler:jD,RemoveHandler:jE,Subscribe:function(jG){var jH;jH=jF(function(){return function(jJ){return jG.OnNext.call(null,jJ);};});jD(jH);return{Dispose:function(){return jE(jH);}};}};}},DateTimeHelpers:{AddMonths:function(jL,jM){var jN;jN=new v(jL);return(new v(jN.getFullYear(),jN.getMonth()+jM,jN.getDate(),jN.getHours(),jN.getMinutes(),jN.getSeconds(),jN.getMilliseconds())).getTime();},AddYears:function(jO,jP){var jQ;jQ=new v(jO);return(new v(jQ.getFullYear()+jP,jQ.getMonth(),jQ.getDate(),jQ.getHours(),jQ.getMinutes(),jQ.getSeconds(),jQ.getMilliseconds())).getTime();},DatePortion:function(jR){var jS;jS=new v(jR);return(new v(jS.getFullYear(),jS.getMonth(),jS.getDate())).getTime();},TimePortion:function(jT){var jU;jU=new v(jT);return(((24*0+jU.getHours())*60+jU.getMinutes())*60+jU.getSeconds())*1000+jU.getMilliseconds();}},Enumerable:{Of:function(jV){return{GetEnumerator:jV};}},Enumerator:{Get:function(jW){return jW instanceof $$.Array?y.New(0,null,function(jX){var jY,jZ;jY=jX.s;if(jY<e.length(jW)){jX.c=e.get(jW,jY);jX.s=jY+1;jZ=true;}else{jZ=false;}return jZ;},function(){}):j.Equals(typeof jW,"string")?y.New(0,null,function(j1){var j2,j3;j2=j1.s;if(j2<jW.length){j1.c=jW.charCodeAt(j2);j1.s=j2+1;j3=true;}else{j3=false;}return j3;},function(){}):jW.GetEnumerator();},T:$.Class({Dispose:function(){return this.d.call(null,this);},MoveNext:function(){return this.n.call(null,this);},get_Current:function(){return this.c;}},{New:function(j5,j6,j7,j8){var j9;j9=$.New(this,{});j9.s=j5;j9.c=j6;j9.n=j7;j9.d=j8;return j9;}})},Exception:$.Class({},{New:function(){return $.New(this,b.New1("Exception of type 'System.Exception' was thrown."));},New1:function($message){var $0=this,$this=this;return new $$.Error($message);}}),Guid:$.Class({},{NewGuid:function(){var $0=this,$this=this;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=$$.Math.random()*16|0,v=c=="x"?r:r&0x3|0x8;return v.toString(16);});}}),Html:{Client:{Activator:{Activate:$.Field(function(){var j_,j$;if(B.hasDocument()){j$=C.getElementById("websharper-data");j_=j$?D(C).ready(function(){var kb,kc,kd,kj;kb=j$.getAttribute("content");kc=E.Activate(F.parse(kb));kd=function(ke){var kf,kg,kh,ki;kf=ke[0];kg=ke[1];kh=kg.get_Body();ki=C.getElementById(kf);return kh.ReplaceInDom(ki);};kj=H.GetFields(kc);return e.iter(kd,kj);}):null;}else{j_=null;}return j_;}),hasDocument:function(){var $0=this,$this=this;return typeof $$.document!=="undefined";}},HtmlContentExtensions:{"IControlBody.SingleNode.Static":function(kk){return J.New(kk);},SingleNode:$.Class({ReplaceInDom:function(kl){var km;km=this.node.parentNode.replaceChild(this.node,kl);return;}},{New:function(kn){var ko;ko=$.New(this,{});ko.node=kn;return ko;}})}}},IndexOutOfRangeException:$.Class({},{New:function(){return $.New(this,g.New1("Index was outside the bounds of the array."));},New1:function(kp){return $.New(this,b.New1(kp));}}),InvalidOperationException:$.Class({},{New:function(){return $.New(this,K.New1("Operation is not valid due to the current state of the object."));},New1:function(kq){return $.New(this,b.New1(kq));}}),JavaScript:{JSModule:{Delete:function($x,$field){var $0=this,$this=this;return delete $x[$field];},ForEach:function($x,$iter){var $0=this,$this=this;for(var k in $x){if($iter(k))break;}},GetFieldNames:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push(k);return r;},GetFieldValues:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push($o[k]);return r;},GetFields:function($o){var $0=this,$this=this;var r=[];for(var k in $o)r.push([k,$o[k]]);return r;},Log:function($x){var $0=this,$this=this;if($$.console)$$.console.log($x);},LogMore:function($args){var $0=this,$this=this;if($$.console)$$.console.log.apply($$.console,$args);}},Pervasives:{NewFromList:function(kr){var ks,kt,ku,kv,kw,kx;ks={};kt=k.Get(kr);try{while(kt.MoveNext()){kv=kt.get_Current();kw=kv[1];kx=kv[0];ks[kx]=kw;}}finally{kt.Dispose!=undefined?kt.Dispose():null;}return ks;}}},Json:{Activate:function(ky){var kz,kA,kB;kz=ky.$TYPES;for(kA=0;kA<=e.length(kz)-1;kA++){e.set(kz,kA,E.lookup(e.get(kz,kA)));}kB=function(kC){var kD,kE,kF,kG,kH,kI,kJ,kK;if(j.Equals(kC,null)){kD=kC;}else{kE=typeof kC;if(kE==="object"){if(kC instanceof $$.Array){kG=E.shallowMap(kB,kC);}else{kH=E.shallowMap(kB,kC.$V);kI=kC.$T;if(j.Equals(typeof kI,"undefined")){kJ=kH;}else{kK=new(e.get(kz,kI))();H.ForEach(kH,function(kL){kK[kL]=kH[kL];return false;});kJ=kK;}kG=kJ;}kF=kG;}else{kF=kC;}kD=kF;}return kD;};return kB(ky.$DATA);},lookup:function(kM){var kN,kO,kP,kQ,kR,kS;kN=e.length(kM);kO=$$;kP=0;while(kP<kN){kQ=e.get(kM,kP);kR=kO[kQ];if(!j.Equals(typeof kR,undefined)){kO=kR;kS=kP=kP+1;}else{kS=f.FailWith("Invalid server reply. Failed to find type: "+kQ);}}return kO;},shallowMap:function(kT,kU){var kV,kW,kX,kY;if(kU instanceof $$.Array){kV=e.map(kT,kU);}else{kW=typeof kU;if(kW==="object"){kY={};H.ForEach(kU,function(kZ){kY[kZ]=kT(kU[kZ]);return false;});kX=kY;}else{kX=kU;}kV=kX;}return kV;}},Lazy:{Create:function(k0){var k1,k2;k1={value:undefined,created:false,eval:k0};k2=function(){var k4;if(k1.created){k4=k1.value;}else{k1.created=true;k1.value=k0(null);k4=k1.value;}return k4;};k1.eval=k2;return k1;},CreateFromValue:function(k5){return{value:k5,created:true,eval:function(){return k5;},eval:function(){return k5;}};},Force:function(k8){return k8.eval.call(null,null);}},List:{T:$.Class({GetEnumerator:function(){return y.New(this,null,function(k9){var k_,k$,la,lb;k_=k9.s;if(k_.$==0){k$=false;}else{la=k_.$1;lb=k_.$0;k9.c=lb;k9.s=la;k$=true;}return k$;},function(){});},get_Item:function(ld){return i.nth(ld,this);},get_Length:function(){return i.length(this);}},{Construct:function(le,lf){return $.New(M,{$:1,$0:le,$1:lf});},get_Nil:function(){return $.New(M,{$:0});}}),append:function(lg,lh){return L.ofSeq(i.append(lg,lh));},choose:function(li,lj){return L.ofSeq(i.choose(li,lj));},collect:function(lk,ll){return L.ofSeq(i.collect(lk,ll));},concat:function(lm){return L.ofSeq(i.concat(lm));},exists2:function(ln,lo,lp){return e.exists2(ln,e.ofSeq(lo),e.ofSeq(lp));},filter:function(lq,lr){return L.ofSeq(i.filter(lq,lr));},fold2:function(ls,lt,lu,lv){return e.fold2(ls,lt,e.ofSeq(lu),e.ofSeq(lv));},foldBack:function(lw,lx,ly){return e.foldBack(lw,e.ofSeq(lx),ly);},foldBack2:function(lz,lA,lB,lC){return e.foldBack2(lz,e.ofSeq(lA),e.ofSeq(lB),lC);},forall2:function(lD,lE,lF){return e.forall2(lD,e.ofSeq(lE),e.ofSeq(lF));},head:function(lG){var lH,lI;if(lG.$==1){lI=lG.$0;lH=lI;}else{lH=f.FailWith("The input list was empty.");}return lH;},init:function(lJ,lK){return L.ofArray(e.init(lJ,lK));},iter2:function(lL,lM,lN){return e.iter2(lL,e.ofSeq(lM),e.ofSeq(lN));},iteri2:function(lO,lP,lQ){return e.iteri2(lO,e.ofSeq(lP),e.ofSeq(lQ));},map:function(lR,lS){return L.ofSeq(i.map(lR,lS));},map2:function(lT,lU,lV){return L.ofArray(e.map2(lT,e.ofSeq(lU),e.ofSeq(lV)));},map3:function(lW,lX,lY,lZ){var l0;l0=e.map2(function(l1){return function(l2){return l1(l2);};},e.map2(lW,e.ofSeq(lX),e.ofSeq(lY)),e.ofSeq(lZ));return L.ofArray(l0);},mapi:function(l3,l4){return L.ofSeq(i.mapi(l3,l4));},mapi2:function(l5,l6,l7){return L.ofArray(e.mapi2(l5,e.ofSeq(l6),e.ofSeq(l7)));},max:function(l8){return i.reduce(function(l9){return function(l_){return f.Max(l9,l_);};},l8);},maxBy:function(l$,ma){return i.reduce(function(mb){return function(mc){return j.Compare(l$(mb),l$(mc))===1?mb:mc;};},ma);},min:function(md){return i.reduce(function(me){return function(mf){return f.Min(me,mf);};},md);},minBy:function(mg,mh){return i.reduce(function(mi){return function(mj){return j.Compare(mg(mi),mg(mj))===-1?mi:mj;};},mh);},ofArray:function(mk){var ml,mm;ml=$.New(M,{$:0});for(mm=0;mm<=e.length(mk)-1;mm++){ml=$.New(M,{$:1,$0:e.get(mk,e.length(mk)-mm-1),$1:ml});}return ml;},ofSeq:function(mn){var mo,mp,mq,mr;mo=[];mp=k.Get(mn);try{while(mp.MoveNext()){mo.unshift(mp.get_Current());}mr=mo.slice(0);mr.reverse();mq=L.ofArray(mr);}finally{mp.Dispose!=undefined?mp.Dispose():null;}return mq;},partition:function(ms,mt){var mu,mv,mw;mu=e.partition(ms,e.ofSeq(mt));mv=mu[1];mw=mu[0];return[L.ofArray(mw),L.ofArray(mv)];},permute:function(mx,my){return L.ofArray(e.permute(mx,e.ofSeq(my)));},reduceBack:function(mz,mA){return e.reduceBack(mz,e.ofSeq(mA));},replicate:function(mB,mC){return L.ofArray(e.create(mB,mC));},rev:function(mD){var mE;mE=e.ofSeq(mD);mE.reverse();return L.ofArray(mE);},scan:function(mF,mG,mH){return L.ofSeq(i.scan(mF,mG,mH));},scanBack:function(mI,mJ,mK){return L.ofArray(e.scanBack(mI,e.ofSeq(mJ),mK));},sort:function(mL){var mM;mM=e.ofSeq(mL);e.sortInPlace(mM);return L.ofArray(mM);},sortBy:function(mN,mO){return L.sortWith(function(mP){return function(mQ){return f.Compare(mN(mP),mN(mQ));};},mO);},sortWith:function(mR,mS){var mT;mT=e.ofSeq(mS);e.sortInPlaceWith(mR,mT);return L.ofArray(mT);},tail:function(mU){var mV,mW;if(mU.$==1){mW=mU.$1;mV=mW;}else{mV=f.FailWith("The input list was empty.");}return mV;},unzip:function(mX){var mY,mZ,m0,m1,m2,m3,m4;mY=[];mZ=[];m0=k.Get(mX);try{while(m0.MoveNext()){m2=m0.get_Current();m3=m2[1];m4=m2[0];mY.push(m4);mZ.push(m3);}}finally{m0.Dispose!=undefined?m0.Dispose():null;}return[L.ofArray(mY.slice(0)),L.ofArray(mZ.slice(0))];},unzip3:function(m5){var m6,m7,m8,m9,m_,m$,na,nb,nc;m6=[];m7=[];m8=[];m9=k.Get(m5);try{while(m9.MoveNext()){m$=m9.get_Current();na=m$[2];nb=m$[1];nc=m$[0];m6.push(nc);m7.push(nb);m8.push(na);}}finally{m9.Dispose!=undefined?m9.Dispose():null;}return[L.ofArray(m6.slice(0)),L.ofArray(m7.slice(0)),L.ofArray(m8.slice(0))];},zip:function(nd,ne){return L.ofArray(e.zip(e.ofSeq(nd),e.ofSeq(ne)));},zip3:function(nf,ng,nh){return L.ofArray(e.zip3(e.ofSeq(nf),e.ofSeq(ng),e.ofSeq(nh)));}},MatchFailureException:$.Class({},{New:function(ni,nj,nk){return $.New(this,b.New1(ni+" at "+$$.String(nj)+":"+$$.String(nk)));}}),OperationCanceledException:$.Class({},{New:function(){return $.New(this,u.New1("The operation was canceled."));},New1:function(nl){return $.New(this,b.New1(nl));}}),Operators:{Compare:function(nm,nn){return j.Compare(nm,nn);},DefaultArg:function(no,np){var nq,nr;if(no.$==0){nq=np;}else{nr=no.$0;nq=nr;}return nq;},FailWith:function(ns){return f.Raise(b.New1(ns));},KeyValue:function(nt){return[nt.K,nt.V];},Max:function(nu,nv){return j.Compare(nu,nv)===1?nu:nv;},Min:function(nw,nx){return j.Compare(nw,nx)===-1?nw:nx;},Pown:function(ny,nz){var nA;nA=function(nB){var nC,nD,nE;if(nB===1){nC=ny;}else{if(nB%2===0){nE=nA(nB/2>>0);nD=nE*nE;}else{nD=ny*nA(nB-1);}nC=nD;}return nC;};return nA(nz);},Raise:function($e){var $0=this,$this=this;throw $e;},Sign:function(nF){return nF===0?0:nF<0?-1:1;},Truncate:function(nG){return nG<0?O.ceil(nG):O.floor(nG);},Using:function(nH,nI){var nJ;try{nJ=nI(nH);}finally{nH.Dispose();}return nJ;},range:function(nK,nL){return i.init(1+nL-nK,function(nM){return nM+nK;});},step:function(nN,nO,nP){var nQ,nR,nT,nV;nQ=f.Sign(nO);nR=function(nS){return nQ*(nP-nS)>=0;};nT=i.initInfinite(function(nU){return nN+nU*nO;});nV=i.takeWhile(nR,nT);return nV;}},Option:{bind:function(nW,nX){var nY,nZ;if(nX.$==0){nY={$:0};}else{nZ=nX.$0;nY=nW(nZ);}return nY;},exists:function(n0,n1){var n2,n3;if(n1.$==0){n2=false;}else{n3=n1.$0;n2=n0(n3);}return n2;},fold:function(n4,n5,n6){var n7,n8;if(n6.$==0){n7=n5;}else{n8=n6.$0;n7=(n4(n5))(n8);}return n7;},foldBack:function(n9,n_,n$){var oa,ob;if(n_.$==0){oa=n$;}else{ob=n_.$0;oa=(n9(ob))(n$);}return oa;},forall:function(oc,od){var oe,of;if(od.$==0){oe=true;}else{of=od.$0;oe=oc(of);}return oe;},iter:function(og,oh){var oi,oj;if(oh.$==0){oi=null;}else{oj=oh.$0;oi=og(oj);}return oi;},map:function(ok,ol){var om,on;if(ol.$==0){om={$:0};}else{on=ol.$0;om={$:1,$0:ok(on)};}return om;},toArray:function(oo){var op,oq;if(oo.$==0){op=[];}else{oq=oo.$0;op=[oq];}return op;},toList:function(or){var os,ot;if(or.$==0){os=$.New(M,{$:0});}else{ot=or.$0;os=L.ofArray([ot]);}return os;}},PrintfHelpers:{padNumLeft:function(ou,ov){var ow;ow=e.get(ou,0);return((ow===" "?true:ow==="+")?true:ow==="-")?ow+P.PadLeftWith(ou.substr(1),ov-1,48):P.PadLeftWith(ou,ov,48);},plusForPos:function(ox,oy){return 0<=ox?"+"+oy:oy;},prettyPrint:function(oz){var oA,oK,oL,oM,oN,oO,oQ;oA=function(oB){var oC,oD,oE,oI,oJ;oC=$$.String(oB);if(oC==="[object Object]"){oE=function(oF){var oG,oH;oG=oF[0];oH=oF[1];return oG+" = "+Q.prettyPrint(oH);};oI=H.GetFields(oB);oJ=e.map(oE,oI);oD="{"+P.concat("; ",oJ)+"}";}else{oD=oC;}return oD;};oK=typeof oz;if(oK=="string"){oL="\""+oz+"\"";}else{if(oK=="object"){if(oz instanceof $$.Array){oO=function(oP){return Q.prettyPrint(oP);};oQ=e.map(oO,oz);oN="[|"+P.concat("; ",oQ)+"|]";}else{oN=oA(oz);}oM=oN;}else{oM=$$.String(oz);}oL=oM;}return oL;},printArray:function(oR,oS){var oT;oT=e.map(oR,oS);return"[|"+P.concat("; ",oT)+"|]";},printArray2D:function(oU,oV){var oW;oW=i.delay(function(){var oY;oY=oV.length?oV[0].length:0;return i.map(function(oZ){var o0;o0=i.delay(function(){return i.map(function(o2){return oU(e.get2D(oV,oZ,o2));},f.range(0,oY-1));});return P.concat("; ",o0);},f.range(0,oV.length-1));});return"[["+P.concat("][",oW)+"]]";},printList:function(o3,o4){var o5;o5=i.map(o3,o4);return"["+P.concat("; ",o5)+"]";},spaceForPos:function(o6,o7){return 0<=o6?" "+o7:o7;},toSafe:function(o8){return o8==null?"":o8;}},Queue:{Clear:function(o9){return o9.splice(0,e.length(o9));},Contains:function(o_,o$){return i.exists(function(pa){return j.Equals(o$,pa);},o_);},CopyTo:function(pb,pc,pd){return e.blit(pb,0,pc,pd,e.length(pb));}},Random:$.Class({Next:function(){return O.floor(O.random()*2147483648);},Next1:function(pe){return pe<0?f.FailWith("'maxValue' must be greater than zero."):O.floor(O.random()*pe);},Next2:function(pf,pg){var ph,pi;if(pf>pg){ph=f.FailWith("'minValue' cannot be greater than maxValue.");}else{pi=pg-pf;ph=pf+O.floor(O.random()*pi);}return ph;},NextBytes:function(pj){var pk;for(pk=0;pk<=e.length(pj)-1;pk++){e.set(pj,pk,O.floor(O.random()*256));}return;}},{New:function(){return $.New(this,{});}}),Ref:{decr:function($x){var $0=this,$this=this;return void($x[0]--);},incr:function($x){var $0=this,$this=this;return void($x[0]++);}},Remoting:{AjaxProvider:$.Field(function(){return S.New();}),AjaxRemotingProvider:$.Class({},{Async:function(pl,pm){var pn,po;pn=R.makeHeaders(pl);po=R.makePayload(pm);return m.Delay(function(){var pq;pq=T.get_CancellationToken();return m.Bind(pq,function(pr){return m.FromContinuations(function(ps){var pt,pu,pv,pw,px,pB,pE,pH;pt=ps[0];pu=ps[1];pv=ps[2];pw=[true];px=m.Register(pr,function(){return function(){var pA;if(pw[0]){pw[0]=false;pA=pv(u.New());}else{pA=null;}return pA;}();});pB=function(pC){var pD;if(pw[0]){pw[0]=false;px.Dispose();pD=pt(E.Activate(F.parse(pC)));}else{pD=null;}return pD;};pE=function(pF){var pG;if(pw[0]){pw[0]=false;px.Dispose();pG=pu(pF);}else{pG=null;}return pG;};pH=R.EndPoint();return R.AjaxProvider().Async(pH,pn,po,pB,pE);});});});},Send:function(pI,pJ){return m.Start(m.Ignore(U.Async(pI,pJ)),{$:0});},Sync:function(pK,pL){var pM,pN,pO,pP;pM=R.EndPoint();pN=R.makeHeaders(pK);pO=R.makePayload(pL);pP=R.AjaxProvider().Sync(pM,pN,pO);return E.Activate(F.parse(pP));}}),EndPoint:$.Field(function(){return"?";}),UseHttps:function(){var pQ,pR,pS,pT;try{if(!P.StartsWith(V.location.href,"https://")){pS=P.Replace(V.location.href,"http://","https://");R.EndPoint=function(){return pS;};pR=true;}else{pR=false;}pQ=pR;}catch(pT){pQ=false;}return pQ;},XhrProvider:$.Class({Async:function(pU,pV,pW,pX,pY){return R.ajax(true,pU,pV,pW,pX,pY);},Sync:function(pZ,p0,p1){var p2;p2=[undefined];R.ajax(false,pZ,p0,p1,function(p3){p2[0]=p3;},function(p4){return f.Raise(p4);});return p2[0];}},{New:function(){return $.New(this,{});}}),ajax:function($async,$url,$headers,$data,$ok,$err){var $0=this,$this=this;var xhr=new $$.XMLHttpRequest();xhr.open("POST",$url,$async);if($async==true){xhr.withCredentials=true;}for(var h in $headers){xhr.setRequestHeader(h,$headers[h]);}function k(){if(xhr.status==200){$ok(xhr.responseText);}else{var msg="Response status is not 200: ";$err(new $$.Error(msg+xhr.status));}}if("onload"in xhr){xhr.onload=xhr.onerror=xhr.onabort=k;}else{xhr.onreadystatechange=function(){if(xhr.readyState==4){k();}};}xhr.send($data);},makeHeaders:function(p5){var p6;p6={};p6["content-type"]="application/json";p6["x-websharper-rpc"]=p5;return p6;},makePayload:function(p7){return F.stringify(p7);}},Seq:{append:function(p8,p9){return W.Of(function(){var p$,qa;p$=k.Get(p8);qa=[true];return y.New(p$,null,function(qb){var qc,qd,qe,qf;if(qb.s.MoveNext()){qb.c=qb.s.get_Current();qc=true;}else{qd=qb.s;!j.Equals(qd,null)?qd.Dispose():null;qb.s=null;if(qa[0]){qa[0]=false;qb.s=k.Get(p9);if(qb.s.MoveNext()){qb.c=qb.s.get_Current();qf=true;}else{qb.s.Dispose();qb.s=null;qf=false;}qe=qf;}else{qe=false;}qc=qe;}return qc;},function(qg){var qh;qh=qg.s;return!j.Equals(qh,null)?qh.Dispose():null;});});},average:function(qi){var qj,qo,qp;qj=i.fold(function(qk){var ql,qm;ql=qk[0];qm=qk[1];return function(qn){return[ql+1,qm+qn];};},[0,0],qi);qo=qj[1];qp=qj[0];return qo/qp;},averageBy:function(qq,qr){var qs,qx,qy;qs=i.fold(function(qt){var qu,qv;qu=qt[0];qv=qt[1];return function(qw){return[qu+1,qv+qq(qw)];};},[0,0],qr);qx=qs[1];qy=qs[0];return qx/qy;},cache:function(qz){var qA,qB,qC;qA=[];qB=[k.Get(qz)];qC=function(){var qE;qE=function(qF){var qG,qH,qI,qJ;if(qF.s+1<qA.length){qF.s=qF.s+1;qF.c=qA[qF.s];qG=true;}else{qH=qB[0];if(j.Equals(qH,null)){qI=false;}else{if(qH.MoveNext()){qF.s=qF.s+1;qF.c=qH.get_Current();qA.push(qF.get_Current());qJ=true;}else{qH.Dispose();qB[0]=null;qJ=false;}qI=qJ;}qG=qI;}return qG;};return y.New(0,null,qE,function(){});};return W.Of(qC);},choose:function(qL,qM){var qN;qN=function(qO){var qP,qQ,qR;qP=qL(qO);if(qP.$==0){qQ=$.New(M,{$:0});}else{qR=qP.$0;qQ=L.ofArray([qR]);}return qQ;};return i.collect(qN,qM);},collect:function(qS,qT){return i.concat(i.map(qS,qT));},compareWith:function(qU,qV,qW){var qX,qY,qZ,q0,q1,q2,q3;qX=k.Get(qV);try{qZ=k.Get(qW);try{q1=0;q2=true;while(q2?q1===0:false){q3=[qX.MoveNext(),qZ.MoveNext()];q3[0]?q3[1]?q1=(qU(qX.get_Current()))(qZ.get_Current()):q1=1:q3[1]?q1=-1:q2=false;}q0=q1;}finally{qZ.Dispose!=undefined?qZ.Dispose():null;}qY=q0;}finally{qX.Dispose!=undefined?qX.Dispose():null;}return qY;},concat:function(q4){return W.Of(function(){var q6,q7;q6=k.Get(q4);q7=function(q8){var q9,q_,q$,ra;q9=q8.s;if(j.Equals(q9,null)){if(q6.MoveNext()){q8.s=k.Get(q6.get_Current());q$=q7(q8);}else{q6.Dispose();q$=false;}q_=q$;}else{if(q9.MoveNext()){q8.c=q9.get_Current();ra=true;}else{q8.Dispose();q8.s=null;ra=q7(q8);}q_=ra;}return q_;};return y.New(null,null,q7,function(rb){var rc;rc=rb.s;!j.Equals(rc,null)?rc.Dispose():null;return!j.Equals(q6,null)?q6.Dispose():null;});});},countBy:function(rd,re){var rf;rf=function(){var rh,ri,rj,rk,rl,rm,rn,ro,rq,rr;rh={};ri=k.Get(re);try{rk=[];while(ri.MoveNext()){rl=rd(ri.get_Current());rm=j.Hash(rl);if(rh.hasOwnProperty(rm)){rn=void(rh[rm]=rh[rm]+1);}else{rk.push(rl);rn=void(rh[rm]=1);}}ro=function(rp){return[rp,rh[j.Hash(rp)]];};rq=rk.slice(0);rr=e.map(ro,rq);rj=rr;}finally{ri.Dispose!=undefined?ri.Dispose():null;}return rj;};return i.delay(rf);},delay:function(rs){return W.Of(function(){return k.Get(rs(null));});},distinct:function(ru){return i.distinctBy(function(rv){return rv;},ru);},distinctBy:function(rw,rx){var ry;ry=function(){var rA,rB,rC,rE;rA=k.Get(rx);rB={};rC=function(){return rA.Dispose();};rE=function(rF){var rG,rH,rI,rK,rM,rN;if(rA.MoveNext()){rH=rA.get_Current();rI=function(rJ){return j.Hash(rw(rJ));};rK=function(rL){return rB.hasOwnProperty(rI(rL));};rM=rK(rH);while(rM?rA.MoveNext():false){rH=rA.get_Current();rM=rK(rH);}if(rM){rN=false;}else{rB[rI(rH)]=null;rF.c=rH;rN=true;}rG=rN;}else{rG=false;}return rG;};return y.New(null,null,rE,rC);};return W.Of(ry);},empty:function(){return[];},enumFinally:function(rO,rP){var rQ;rQ=function(){var rS,rT,rU,rV,rX;try{rT=k.Get(rO);}catch(rU){rP(null);rT=f.Raise(rU);}rS=rT;rV=function(){rS.Dispose();return rP(null);};rX=function(rY){var rZ;if(rS.MoveNext()){rY.c=rS.get_Current();rZ=true;}else{rZ=false;}return rZ;};return y.New(null,null,rX,rV);};return W.Of(rQ);},enumUsing:function(r0,r1){var r2;r2=function(){var r4,r5,r6,r7,r9;try{r5=k.Get(r1(r0));}catch(r6){r0.Dispose();r5=f.Raise(r6);}r4=r5;r7=function(){r4.Dispose();return r0.Dispose();};r9=function(r_){var r$;if(r4.MoveNext()){r_.c=r4.get_Current();r$=true;}else{r$=false;}return r$;};return y.New(null,null,r9,r7);};return W.Of(r2);},enumWhile:function(sa,sb){return W.Of(function(){var sd;sd=function(se){var sf,sg,sh,si;sf=se.s;if(j.Equals(sf,null)){if(sa(null)){se.s=k.Get(sb);sh=sd(se);}else{sh=false;}sg=sh;}else{if(sf.MoveNext()){se.c=sf.get_Current();si=true;}else{sf.Dispose();se.s=null;si=sd(se);}sg=si;}return sg;};return y.New(null,null,sd,function(sj){var sk;sk=sj.s;return!j.Equals(sk,null)?sk.Dispose():null;});});},exists:function(sl,sm){var sn,so,sp;sn=k.Get(sm);try{sp=false;while(!sp?sn.MoveNext():false){sp=sl(sn.get_Current());}so=sp;}finally{sn.Dispose!=undefined?sn.Dispose():null;}return so;},exists2:function(sq,sr,ss){var st,su,sv,sw,sx;st=k.Get(sr);try{sv=k.Get(ss);try{sx=false;while((!sx?st.MoveNext():false)?sv.MoveNext():false){sx=(sq(st.get_Current()))(sv.get_Current());}sw=sx;}finally{sv.Dispose!=undefined?sv.Dispose():null;}su=sw;}finally{st.Dispose!=undefined?st.Dispose():null;}return su;},filter:function(sy,sz){var sA;sA=function(){var sC,sD,sF;sC=k.Get(sz);sD=function(){return sC.Dispose();};sF=function(sG){var sH,sI,sJ,sK;sH=sC.MoveNext();sI=sC.get_Current();sJ=false;while(sH){if(sy(sI)){sG.c=sI;sJ=true;sK=sH=false;}else{sK=sC.MoveNext()?sI=sC.get_Current():sH=false;}}return sJ;};return y.New(null,null,sF,sD);};return W.Of(sA);},find:function(sL,sM){var sN,sO,sP;sN=i.tryFind(sL,sM);if(sN.$==0){sO=f.FailWith("KeyNotFoundException");}else{sP=sN.$0;sO=sP;}return sO;},findIndex:function(sQ,sR){var sS,sT,sU;sS=i.tryFindIndex(sQ,sR);if(sS.$==0){sT=f.FailWith("KeyNotFoundException");}else{sU=sS.$0;sT=sU;}return sT;},fold:function(sV,sW,sX){var sY,sZ,s0;sY=sW;sZ=k.Get(sX);try{while(sZ.MoveNext()){sY=(sV(sY))(sZ.get_Current());}s0=sY;}finally{sZ.Dispose!=undefined?sZ.Dispose():null;}return s0;},forall:function(s1,s2){return!i.exists(function(s3){return!s1(s3);},s2);},forall2:function(s4,s5,s6){return!i.exists2(function(s7){return function(s8){return!(s4(s7))(s8);};},s5,s6);},groupBy:function(s9,s_){return i.delay(function(){var ta,tb,tc,td,te,tf,tg,th;ta={};tb={};tc=[];td=k.Get(s_);try{while(td.MoveNext()){tf=td.get_Current();tg=s9(tf);th=j.Hash(tg);!ta.hasOwnProperty(th)?tc.push(tg):null;tb[th]=tg;ta.hasOwnProperty(th)?ta[th].push(tf):void(ta[th]=[tf]);}te=e.map(function(ti){return[ti,ta[j.Hash(ti)]];},tc);}finally{td.Dispose!=undefined?td.Dispose():null;}return te;});},head:function(tj){var tk,tl;tk=k.Get(tj);try{tl=tk.MoveNext()?tk.get_Current():i.insufficient();}finally{tk.Dispose!=undefined?tk.Dispose():null;}return tl;},init:function(tm,tn){return i.take(tm,i.initInfinite(tn));},initInfinite:function(to){var tp;tp=function(){var tr;tr=function(ts){ts.c=to(ts.s);ts.s=ts.s+1;return true;};return y.New(0,null,tr,function(){});};return W.Of(tp);},insufficient:function(){return f.FailWith("The input sequence has an insufficient number of elements.");},isEmpty:function(tu){var tv,tw;tv=k.Get(tu);try{tw=!tv.MoveNext();}finally{tv.Dispose!=undefined?tv.Dispose():null;}return tw;},iter:function(tx,ty){return i.iteri(function(){return function(tA){return tx(tA);};},ty);},iter2:function(tB,tC,tD){var tE,tF,tG,tH;tE=k.Get(tC);try{tG=k.Get(tD);try{while(tE.MoveNext()?tG.MoveNext():false){(tB(tE.get_Current()))(tG.get_Current());}}finally{tG.Dispose!=undefined?tG.Dispose():null;}tF=tH;}finally{tE.Dispose!=undefined?tE.Dispose():null;}return tF;},iteri:function(tI,tJ){var tK,tL,tM;tK=0;tL=k.Get(tJ);try{while(tL.MoveNext()){(tI(tK))(tL.get_Current());tK=tK+1;}}finally{tL.Dispose!=undefined?tL.Dispose():null;}return tM;},length:function(tN){var tO,tP,tQ;tO=0;tP=k.Get(tN);try{while(tP.MoveNext()){tO=tO+1;}tQ=tO;}finally{tP.Dispose!=undefined?tP.Dispose():null;}return tQ;},map:function(tR,tS){var tT;tT=function(){var tV,tW,tY;tV=k.Get(tS);tW=function(){return tV.Dispose();};tY=function(tZ){var t0;if(tV.MoveNext()){tZ.c=tR(tV.get_Current());t0=true;}else{t0=false;}return t0;};return y.New(null,null,tY,tW);};return W.Of(tT);},mapi:function(t1,t2){return i.mapi2(t1,i.initInfinite(function(t3){return t3;}),t2);},mapi2:function(t4,t5,t6){var t7;t7=function(){var t9,t_,t$,ub;t9=k.Get(t5);t_=k.Get(t6);t$=function(){t9.Dispose();return t_.Dispose();};ub=function(uc){var ud;if(t9.MoveNext()?t_.MoveNext():false){uc.c=(t4(t9.get_Current()))(t_.get_Current());ud=true;}else{ud=false;}return ud;};return y.New(null,null,ub,t$);};return W.Of(t7);},max:function(ue){return i.reduce(function(uf){return function(ug){return j.Compare(uf,ug)>=0?uf:ug;};},ue);},maxBy:function(uh,ui){return i.reduce(function(uj){return function(uk){return j.Compare(uh(uj),uh(uk))>=0?uj:uk;};},ui);},min:function(ul){return i.reduce(function(um){return function(un){return j.Compare(um,un)<=0?um:un;};},ul);},minBy:function(uo,up){return i.reduce(function(uq){return function(ur){return j.Compare(uo(uq),uo(ur))<=0?uq:ur;};},up);},nth:function(us,ut){var uu,uv,uw;us<0?f.FailWith("negative index requested"):null;uu=-1;uv=k.Get(ut);try{while(uu<us){!uv.MoveNext()?i.insufficient():null;uu=uu+1;}uw=uv.get_Current();}finally{uv.Dispose!=undefined?uv.Dispose():null;}return uw;},pairwise:function(ux){var uy,uA;uy=function(uz){return[e.get(uz,0),e.get(uz,1)];};uA=i.windowed(2,ux);return i.map(uy,uA);},pick:function(uB,uC){var uD,uE,uF;uD=i.tryPick(uB,uC);if(uD.$==0){uE=f.FailWith("KeyNotFoundException");}else{uF=uD.$0;uE=uF;}return uE;},readOnly:function(uG){return W.Of(function(){return k.Get(uG);});},reduce:function(uI,uJ){var uK,uL,uM;uK=k.Get(uJ);try{!uK.MoveNext()?f.FailWith("The input sequence was empty"):null;uM=uK.get_Current();while(uK.MoveNext()){uM=(uI(uM))(uK.get_Current());}uL=uM;}finally{uK.Dispose!=undefined?uK.Dispose():null;}return uL;},scan:function(uN,uO,uP){var uQ;uQ=function(){var uS,uT,uV;uS=k.Get(uP);uT=function(){return uS.Dispose();};uV=function(uW){var uX,uY;if(uW.s){if(uS.MoveNext()){uW.c=(uN(uW.get_Current()))(uS.get_Current());uY=true;}else{uY=false;}uX=uY;}else{uW.c=uO;uW.s=true;uX=true;}return uX;};return y.New(false,null,uV,uT);};return W.Of(uQ);},skip:function(uZ,u0){return W.Of(function(){var u2,u3;u2=k.Get(u0);for(u3=1;u3<=uZ;u3++){!u2.MoveNext()?i.insufficient():null;}return u2;});},skipWhile:function(u4,u5){return W.Of(function(){var u7,u8,u9;u7=k.Get(u5);u8=true;while(u7.MoveNext()?u4(u7.get_Current()):false){u8=false;}if(u8){u7.Dispose();u9=k.Get(i.empty());}else{u9=y.New(true,null,function(u_){var u$,va;if(u_.s){u_.s=false;u_.c=u7.get_Current();u$=true;}else{va=u7.MoveNext();u_.c=u7.get_Current();u$=va;}return u$;},function(){return u7.Dispose();});}return u9;});},sort:function(vc){return i.sortBy(function(vd){return vd;},vc);},sortBy:function(ve,vf){return i.delay(function(){var vh;vh=e.ofSeq(vf);e.sortInPlaceBy(ve,vh);return vh;});},sum:function(vi){return i.fold(function(vj){return function(vk){return vj+vk;};},0,vi);},sumBy:function(vl,vm){return i.fold(function(vn){return function(vo){return vn+vl(vo);};},0,vm);},take:function(vp,vq){vp<=0?f.FailWith("The input must be non-negative."):null;return W.Of(function(){var vs;vs=[k.Get(vq)];return y.New(0,null,function(vt){var vu,vv,vw,vx;if(vt.s===vp){vu=false;}else{vv=vs[0];if(j.Equals(vv,null)){vw=false;}else{if(vv.MoveNext()){vt.s=vt.s+1;vt.c=vv.get_Current();vx=true;}else{vx=i.insufficient();}vw=vx;}vu=vw;}return vu;},function(){var vz;vz=vs[0];return!j.Equals(vz,null)?vz.Dispose():null;});});},takeWhile:function(vA,vB){return i.delay(function(){return i.enumUsing(k.Get(vB),function(vD){return i.enumWhile(function(){return vD.MoveNext()?vA(vD.get_Current()):false;},i.delay(function(){return[vD.get_Current()];}));});});},toArray:function(vG){var vH,vI,vJ,vK;vH=[];vI=k.Get(vG);try{while(vI.MoveNext()){vK=vI.get_Current();vH.push(vK);}}finally{vI.Dispose!=undefined?vI.Dispose():null;}return vH.slice(0);},toList:function(vL){return L.ofSeq(vL);},truncate:function(vM,vN){return i.delay(function(){return i.enumUsing(k.Get(vN),function(vP){var vQ;vQ=[0];return i.enumWhile(function(){return vP.MoveNext()?vQ[0]<vM:false;},i.delay(function(){X.incr(vQ);return[vP.get_Current()];}));});});},tryFind:function(vT,vU){var vV,vW,vX,vY;vV=k.Get(vU);try{vX={$:0};while(vX.$==0?vV.MoveNext():false){vY=vV.get_Current();vT(vY)?vX={$:1,$0:vY}:null;}vW=vX;}finally{vV.Dispose!=undefined?vV.Dispose():null;}return vW;},tryFindIndex:function(vZ,v0){var v1,v2,v3,v4,v5;v1=k.Get(v0);try{v3=true;v4=0;while(v3?v1.MoveNext():false){v5=v1.get_Current();vZ(v5)?v3=false:v4=v4+1;}v2=v3?{$:0}:{$:1,$0:v4};}finally{v1.Dispose!=undefined?v1.Dispose():null;}return v2;},tryPick:function(v6,v7){var v8,v9,v_;v8=k.Get(v7);try{v_={$:0};while(j.Equals(v_,{$:0})?v8.MoveNext():false){v_=v6(v8.get_Current());}v9=v_;}finally{v8.Dispose!=undefined?v8.Dispose():null;}return v9;},unfold:function(v$,wa){var wb;wb=function(){var wd;wd=function(we){var wf,wg,wh,wi;wf=v$(we.s);if(wf.$==0){wg=false;}else{wh=wf.$0[0];wi=wf.$0[1];we.c=wh;we.s=wi;wg=true;}return wg;};return y.New(wa,null,wd,function(){});};return W.Of(wb);},windowed:function(wk,wl){wk<=0?f.FailWith("The input must be non-negative."):null;return i.delay(function(){return i.enumUsing(k.Get(wl),function(wn){var wo;wo=[];return i.append(i.enumWhile(function(){return wo.length<wk?wn.MoveNext():false;},i.delay(function(){wo.push(wn.get_Current());return i.empty();})),i.delay(function(){return wo.length===wk?i.append([wo.slice(0)],i.delay(function(){return i.enumWhile(function(){return wn.MoveNext();},i.delay(function(){wo.shift();wo.push(wn.get_Current());return[wo.slice(0)];}));})):i.empty();}));});});},zip:function(wv,ww){return i.mapi2(function(wx){return function(wy){return[wx,wy];};},wv,ww);},zip3:function(wz,wA,wB){return i.mapi2(function(wC){return function(wD){var wE,wF;wE=wD[0];wF=wD[1];return[wC,wE,wF];};},wz,i.zip(wA,wB));}},Slice:{array:function(wG,wH,wI){var wJ,wK,wL,wM,wN,wO,wP,wQ;wJ=[wH,wI];if(wJ[0].$==0){if(wJ[1].$==1){wM=wJ[1].$0;wL=wG.slice(0,wM+1);}else{wL=[];}wK=wL;}else{if(wJ[1].$==0){wO=wJ[0].$0;wN=wG.slice(wO);}else{wP=wJ[1].$0;wQ=wJ[0].$0;wN=wG.slice(wQ,wP+1);}wK=wN;}return wK;},array2D:function(wR,wS,wT,wU,wV){var wW,wX,wY,wZ,w0,w1,w2,w3,w4,w5,w6,w7,w8,w9;if(wS.$==1){wY=wS.$0;wX=wY;}else{wX=0;}wW=wX;if(wU.$==1){w1=wU.$0;w0=w1;}else{w0=0;}wZ=w0;if(wT.$==1){w4=wT.$0;w3=w4;}else{w3=wR.length-1;}w2=w3;if(wV.$==1){w7=wV.$0;w6=w7;}else{w6=(wR.length?wR[0].length:0)-1;}w5=w6;w8=w2-wW+1;w9=w5-wZ+1;return e.sub2D(wR,wW,wZ,w8,w9);},array2Dfix1:function(w_,w$,xa,xb){var xc,xd,xe,xf,xg,xh,xi,xj,xk;if(xa.$==1){xe=xa.$0;xd=xe;}else{xd=0;}xc=xd;if(xb.$==1){xh=xb.$0;xg=xh;}else{xg=(w_.length?w_[0].length:0)-1;}xf=xg;xi=xf-xc+1;xj=h(xi);for(xk=0;xk<=xi-1;xk++){e.set(xj,xk,e.get2D(w_,w$,xc+xk));}return xj;},array2Dfix2:function(xl,xm,xn,xo){var xp,xq,xr,xs,xt,xu,xv,xw,xx;if(xm.$==1){xr=xm.$0;xq=xr;}else{xq=0;}xp=xq;if(xn.$==1){xu=xn.$0;xt=xu;}else{xt=xl.length-1;}xs=xt;xv=xs-xp+1;xw=h(xv);for(xx=0;xx<=xv-1;xx++){e.set(xw,xx,e.get2D(xl,xp+xx,xo));}return xw;},setArray:function(xy,xz,xA,xB){var xC,xD,xE,xF,xG,xH;if(xz.$==1){xE=xz.$0;xD=xE;}else{xD=0;}xC=xD;if(xA.$==1){xH=xA.$0;xG=xH;}else{xG=xy.length-1;}xF=xG;return e.setSub(xy,xC,xF-xC+1,xB);},setArray2D:function(xI,xJ,xK,xL,xM,xN){var xO,xP,xQ,xR,xS,xT,xU,xV,xW,xX,xY,xZ;if(xJ.$==1){xQ=xJ.$0;xP=xQ;}else{xP=0;}xO=xP;if(xL.$==1){xT=xL.$0;xS=xT;}else{xS=0;}xR=xS;if(xK.$==1){xW=xK.$0;xV=xW;}else{xV=xI.length-1;}xU=xV;if(xM.$==1){xZ=xM.$0;xY=xZ;}else{xY=(xI.length?xI[0].length:0)-1;}xX=xY;return e.setSub2D(xI,xO,xR,xU-xO+1,xX-xR+1,xN);},setArray2Dfix1:function(x0,x1,x2,x3,x4){var x5,x6,x7,x8,x9,x_,x$,ya;if(x2.$==1){x7=x2.$0;x6=x7;}else{x6=0;}x5=x6;if(x3.$==1){x_=x3.$0;x9=x_;}else{x9=(x0.length?x0[0].length:0)-1;}x8=x9;x$=x8-x5+1;for(ya=0;ya<=x$-1;ya++){e.set2D(x0,x1,x5+ya,e.get(x4,ya));}return;},setArray2Dfix2:function(yb,yc,yd,ye,yf){var yg,yh,yi,yj,yk,yl,ym,yn;if(yc.$==1){yi=yc.$0;yh=yi;}else{yh=0;}yg=yh;if(yd.$==1){yl=yd.$0;yk=yl;}else{yk=yb.length-1;}yj=yk;ym=yj-yg+1;for(yn=0;yn<=ym-1;yn++){e.set2D(yb,yg+yn,ye,e.get(yf,yn));}return;},string:function(yo,yp,yq){var yr,ys,yt,yu,yv,yw,yx,yy;yr=[yp,yq];if(yr[0].$==0){if(yr[1].$==1){yu=yr[1].$0;yt=yo.slice(0,yu+1);}else{yt="";}ys=yt;}else{if(yr[1].$==0){yw=yr[0].$0;yv=yo.slice(yw);}else{yx=yr[1].$0;yy=yr[0].$0;yv=yo.slice(yy,yx+1);}ys=yv;}return ys;}},Stack:{Clear:function(yz){return yz.splice(0,e.length(yz));},Contains:function(yA,yB){return i.exists(function(yC){return j.Equals(yB,yC);},yA);},CopyTo:function(yD,yE,yF){return e.blit(yE,0,yE,yF,e.length(yD));}},Strings:{Compare:function(yG,yH){return f.Compare(yG,yH);},CopyTo:function(yI,yJ,yK,yL,yM){return e.blit(P.ToCharArray(yI),yJ,yK,yL,yM);},EndsWith:function($x,$s){var $0=this,$this=this;return $x.substring($x.length-$s.length)==$s;},IndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.indexOf($$.String.fromCharCode($c),$i);},Insert:function($x,$index,$s){var $0=this,$this=this;return $x.substring(0,$index-1)+$s+$x.substring($index);},IsNullOrEmpty:function($x){var $0=this,$this=this;return $x==null||$x=="";},Join:function($sep,$values){var $0=this,$this=this;return $values.join($sep);},LastIndexOf:function($s,$c,$i){var $0=this,$this=this;return $s.lastIndexOf($$.String.fromCharCode($c),$i);},PadLeft:function(yN,yO){return P.PadLeftWith(yN,yO,32);},PadLeftWith:function($s,$n,$c){var $0=this,$this=this;return $$.Array($n-$s.length+1).join($$.String.fromCharCode($c))+$s;},PadRight:function(yP,yQ){return P.PadRightWith(yP,yQ,32);},PadRightWith:function($s,$n,$c){var $0=this,$this=this;return $s+$$.Array($n-$s.length+1).join($$.String.fromCharCode($c));},RegexEscape:function($s){var $0=this,$this=this;return $s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");},Remove:function($x,$ix,$ct){var $0=this,$this=this;return $x.substring(0,$ix)+$x.substring($ix+$ct);},Replace:function(yR,yS,yT){var yU;yU=function(yV){var yW,yX,yY,yZ;yW=yV.indexOf(yS);if(yW!==-1){yY=P.ReplaceOnce(yV,yS,yT);yZ=yW+yT.length;yX=P.Substring(yY,0,yW+yT.length)+yU(yY.substring(yZ));}else{yX=yV;}return yX;};return yU(yR);},ReplaceChar:function(y0,y1,y2){return P.Replace(y0,Y.fromCharCode(y1),Y.fromCharCode(y2));},ReplaceOnce:function($string,$search,$replace){var $0=this,$this=this;return $string.replace($search,$replace);},Split:function(y3,y4,y5){var y6;y6=P.SplitWith(y3,y4);return y5===1?e.filter(function(y7){return y7!=="";},y6):y6;},SplitChars:function(y8,y9,y_){var y$;y$="["+P.RegexEscape(Y.fromCharCode.apply(undefined,y9))+"]";return P.Split(y8,new Z(y$),y_);},SplitStrings:function(za,zb,zc){var zd;zd=P.concat("|",e.map(function(ze){return P.RegexEscape(ze);},zb));return P.Split(za,new Z(zd),zc);},SplitWith:function($str,$pat){var $0=this,$this=this;return $str.split($pat);},StartsWith:function($t,$s){var $0=this,$this=this;return $t.substring(0,$s.length)==$s;},Substring:function($s,$ix,$ct){var $0=this,$this=this;return $s.substr($ix,$ct);},ToCharArray:function(zf){return e.init(zf.length,function(zg){return zf.charCodeAt(zg);});},ToCharArrayRange:function(zh,zi,zj){return e.init(zj,function(zk){return zh.charCodeAt(zi+zk);});},Trim:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"").replace(/\s+$/,"");},TrimEnd:function($s){var $0=this,$this=this;return $s.replace(/\s+$/,"");},TrimStart:function($s){var $0=this,$this=this;return $s.replace(/^\s+/,"");},collect:function(zl,zm){return e.init(zm.length,function(zn){return zl(zm.charCodeAt(zn));}).join("");},concat:function(zo,zp){return i.toArray(zp).join(zo);},exists:function(zq,zr){return i.exists(zq,P.protect(zr));},forall:function(zs,zt){return i.forall(zs,P.protect(zt));},init:function(zu,zv){return e.init(zu,zv).join("");},iter:function(zw,zx){return i.iter(zw,P.protect(zx));},iteri:function(zy,zz){return i.iteri(zy,P.protect(zz));},length:function(zA){return P.protect(zA).length;},map:function(zB,zC){return P.collect(function(zD){return Y.fromCharCode(zB(zD));},P.protect(zC));},mapi:function(zE,zF){return i.toArray(i.mapi(function(zG){return function(zH){return Y.fromCharCode((zE(zG))(zH));};},zF)).join("");},protect:function(zI){return zI===null?"":zI;},replicate:function(zJ,zK){return P.init(zJ,function(){return zK;});}},Unchecked:{Compare:function(zM,zN){var zO,zP,zQ,zR;if(zM===zN){zO=0;}else{zP=typeof zM;if(zP==="undefined"){zR=typeof zN;zQ=zR==="undefined"?0:-1;}else{zQ=zP==="function"?f.FailWith("Cannot compare function values."):zP==="boolean"?zM<zN?-1:1:zP==="number"?zM<zN?-1:1:zP==="string"?zM<zN?-1:1:zM===null?-1:zN===null?1:"CompareTo"in zM?zM.CompareTo(zN):(zM instanceof h?zN instanceof h:false)?j.compareArrays(zM,zN):(zM instanceof v?zN instanceof v:false)?j.compareDates(zM,zN):j.compareArrays(H.GetFields(zM),H.GetFields(zN));}zO=zQ;}return zO;},Equals:function(zS,zT){var zU,zV;if(zS===zT){zU=true;}else{zV=typeof zS;zU=zV==="object"?zS===null?false:zT===null?false:"Equals"in zS?zS.Equals(zT):(zS instanceof h?zT instanceof h:false)?j.arrayEquals(zS,zT):(zS instanceof v?zT instanceof v:false)?j.dateEquals(zS,zT):j.arrayEquals(H.GetFields(zS),H.GetFields(zT)):false;}return zU;},Hash:function(zW){var zX;zX=typeof zW;return zX==="function"?0:zX==="boolean"?zW?1:0:zX==="number"?zW:zX==="string"?j.hashString(zW):zX==="object"?zW==null?0:zW instanceof h?j.hashArray(zW):j.hashObject(zW):0;},arrayEquals:function(zY,zZ){var z0,z1,z2;if(e.length(zY)===e.length(zZ)){z1=true;z2=0;while(z1?z2<e.length(zY):false){!j.Equals(e.get(zY,z2),e.get(zZ,z2))?z1=false:null;z2=z2+1;}z0=z1;}else{z0=false;}return z0;},compareArrays:function(z3,z4){var z5,z6,z7,z8;if(e.length(z3)<e.length(z4)){z5=-1;}else{if(e.length(z3)>e.length(z4)){z6=1;}else{z7=0;z8=0;while(z7===0?z8<e.length(z3):false){z7=j.Compare(e.get(z3,z8),e.get(z4,z8));z8=z8+1;}z6=z7;}z5=z6;}return z5;},compareDates:function(z9,z_){return f.Compare(z9.getTime(),z_.getTime());},dateEquals:function(z$,Aa){return z$.getTime()===Aa.getTime();},hashArray:function(Ab){var Ac,Ad;Ac=-34948909;for(Ad=0;Ad<=e.length(Ab)-1;Ad++){Ac=j.hashMix(Ac,j.Hash(e.get(Ab,Ad)));}return Ac;},hashMix:function(Ae,Af){return(Ae<<5)+Ae+Af;},hashObject:function(Ag){var Ah,Ai,Al;if("GetHashCode"in Ag){Ah=Ag.GetHashCode();}else{Ai=function(Aj,Ak){return j.hashMix(Aj,Ak);};Al=[0];H.ForEach(Ag,function(Am){Al[0]=Ai(Ai(Al[0],j.hashString(Am)),j.Hash(Ag[Am]));return false;});Ah=Al[0];}return Ah;},hashString:function(An){var Ao,Ap,Aq;if(An===null){Ao=0;}else{Ap=5381;for(Aq=0;Aq<=An.length-1;Aq++){Ap=j.hashMix(Ap,An.charCodeAt(Aq)<<0);}Ao=Ap;}return Ao;}},Util:{addListener:function(Ar,As){Ar.Subscribe(s.observer(As));},observer:function(At){return{OnCompleted:function(){},OnError:function(){},OnNext:At};},subscribeTo:function(Aw,Ax){return Aw.Subscribe(s.observer(Ax));}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.AggregateException);b=$.Safe($$.WebSharper.Exception);c=$.Safe($$.WebSharper.ArgumentException);d=$.Safe($$.Number);e=$.Safe($$.WebSharper.Arrays);f=$.Safe($$.WebSharper.Operators);g=$.Safe($$.WebSharper.IndexOutOfRangeException);h=$.Safe($$.Array);i=$.Safe($$.WebSharper.Seq);j=$.Safe($$.WebSharper.Unchecked);k=$.Safe($$.WebSharper.Enumerator);l=$.Safe($$.WebSharper.Arrays2D);m=$.Safe($$.WebSharper.Concurrency);n=$.Safe($$.WebSharper.Option);o=$.Safe($$.clearTimeout);p=$.Safe($$.setTimeout);q=$.Safe($$.WebSharper.CancellationTokenSource);r=$.Safe($$.WebSharper.Char);s=$.Safe($$.WebSharper.Util);t=$.Safe($$.WebSharper.Lazy);u=$.Safe($$.WebSharper.OperationCanceledException);v=$.Safe($$.Date);w=$.Safe($$.console);x=$.Safe(m.Scheduler);y=$.Safe(k.T);z=$.Safe($$.WebSharper.Html);A=$.Safe(z.Client);B=$.Safe(A.Activator);C=$.Safe($$.document);D=$.Safe($$.jQuery);E=$.Safe($$.WebSharper.Json);F=$.Safe($$.JSON);G=$.Safe($$.WebSharper.JavaScript);H=$.Safe(G.JSModule);I=$.Safe(A.HtmlContentExtensions);J=$.Safe(I.SingleNode);K=$.Safe($$.WebSharper.InvalidOperationException);L=$.Safe($$.WebSharper.List);M=$.Safe(L.T);N=$.Safe($$.WebSharper.MatchFailureException);O=$.Safe($$.Math);P=$.Safe($$.WebSharper.Strings);Q=$.Safe($$.WebSharper.PrintfHelpers);R=$.Safe($$.WebSharper.Remoting);S=$.Safe(R.XhrProvider);T=$.Safe($$.WebSharper.AsyncProxy);U=$.Safe(R.AjaxRemotingProvider);V=$.Safe($$.window);W=$.Safe($$.WebSharper.Enumerable);X=$.Safe($$.WebSharper.Ref);Y=$.Safe($$.String);return Z=$.Safe($$.RegExp);});$.OnLoad(function(){$.Inherit(a,b);$.Inherit(c,b);$.Inherit(g,b);$.Inherit(K,b);$.Inherit(N,b);$.Inherit(u,b);R.EndPoint();R.AjaxProvider();B.Activate();m.scheduler();m.defCTS();m.GetCT();return;});}());
