(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;$.Define($$,{WebSharper:{Testing:{Pervasives:{Do:$.Field(function(){return c.New();}),Runner:{AddTest:function(s,t,u){var v,x;v=function(w){(s(u))(w);return w;};x=t(u);return d.Map(v,x);},AddTestAsync:function(y,z,A){var B,F;B=function(C){return e.Delay(function(){return e.Bind((y(A))(C),function(){return e.Return(C);});});};F=z(A);return d.MapAsync(B,F);},Bind:function(G,H){var I,J,M;if(H.$==1){J=H.$0;I={$:1,$0:e.Delay(function(){return e.Bind(J,function(L){return d.ToAsync(G(L));});})};}else{M=H.$0;I=G(M);}return I;},Map:function(N,O){var P,Q,T;if(O.$==1){Q=O.$0;P={$:1,$0:e.Delay(function(){return e.Bind(Q,function(S){return e.Return(N(S));});})};}else{T=O.$0;P={$:0,$0:N(T)};}return P;},MapAsync:function(U,V){var W,X,_0;if(V.$==1){X=V.$0;W={$:1,$0:e.Delay(function(){return e.Bind(X,function(Z){return U(Z);});})};}else{_0=V.$0;W={$:1,$0:U(_0)};}return W;},ToAsync:function(_1){var _2,_3,_4;if(_1.$==1){_3=_1.$0;_2=_3;}else{_4=_1.$0;_2=e.Delay(function(){return e.Return(_4);});}return _2;}},Section:function(_6){return f.New(_6);},SectionBuilder:$.Class({Run:function(_7){g.module(_7.name);return _7.run.call(null,null);}},{New:function(_8){var _9;_9=$.New(this,{});_9.name=_8;return _9;}}),SubtestBuilder:$.Class({ApproxEqual:function(_,ba,bb){var bc;bc=function(bd){return function(be){var bf,bg;bf=ba(be);bg=bb(be);return bd.push(h.abs(bf-bg)<0.0001,bf,bg);};};return function(bg){return d.AddTest(bc,_,bg);};},ApproxEqualM:function(bh,bi,bj,bk){var bl;bl=function(bm){return function(bn){var bo,bp;bo=bi(bn);bp=bj(bn);return bm.push(h.abs(bo-bp)<0.0001,bo,bp,bk);};};return function(bq){return d.AddTest(bl,bh,bq);};},Bind:function(br,bs){return function(bt){return{$:1,$0:e.Delay(function(){return e.Bind(br,function(bv){var bw,bx,by,bz;bw=(bs(bv))(bt);if(bw.$==1){by=bw.$0;bx=by;}else{bz=bw.$0;bx=e.Return(bz);}return bx;});})};};},DeepEqual:function(bA,bB,bC){var bD;bD=function(bE){return function(bF){return bE.deepEqual(bB(bF),bC(bF));};};return function(bG){return d.AddTest(bD,bA,bG);};},DeepEqualA:function(bH,bI,bJ){var bK;bK=function(bL){return function(bM){return e.Delay(function(){var bO;bO=bJ(bM);return e.Bind(bI(bM),function(bP){return e.Return(bL.deepEqual(bP,bO));});});};};return function(bQ){return d.AddTestAsync(bK,bH,bQ);};},DeepEqualM:function(bR,bS,bT,bU){var bV;bV=function(bW){return function(bX){return bW.deepEqual(bS(bX),bT(bX),bU);};};return function(bY){return d.AddTest(bV,bR,bY);};},DeepEqualMA:function(bZ,b0,b1,b2){var b3;b3=function(b4){return function(b5){return e.Delay(function(){var b7;b7=b1(b5);return e.Bind(b0(b5),function(b8){return e.Return(b4.deepEqual(b8,b7,b2));});});};};return function(b9){return d.AddTestAsync(b3,bZ,b9);};},Equal:function(b_,b$,ca){var cb;cb=function(cc){return function(cd){var ce,cf;ce=b$(cd);cf=ca(cd);return cc.push(i.Equals(ce,cf),ce,cf);};};return function(cg){return d.AddTest(cb,b_,cg);};},EqualA:function(ch,ci,cj){var ck;ck=function(cl){return function(cm){return e.Delay(function(){var co;co=cj(cm);return e.Bind(ci(cm),function(cp){return e.Return(cl.push(i.Equals(cp,co),cp,co));});});};};return function(cq){return d.AddTestAsync(ck,ch,cq);};},EqualM:function(cr,cs,ct,cu){var cv;cv=function(cw){return function(cx){var cy,cz;cy=cs(cx);cz=ct(cx);return cw.push(i.Equals(cy,cz),cy,cz,cu);};};return function(cA){return d.AddTest(cv,cr,cA);};},EqualMA:function(cB,cC,cD,cE){var cF;cF=function(cG){return function(cH){return e.Delay(function(){var cJ;cJ=cD(cH);return e.Bind(cC(cH),function(cK){return e.Return(cG.push(i.Equals(cK,cJ),cK,cJ,cE));});});};};return function(cL){return d.AddTestAsync(cF,cB,cL);};},Expect:function(cM,cN){var cO;cO=function(cP){return function(cQ){return cP.expect(cN(cQ));};};return function(cR){return d.AddTest(cO,cM,cR);};},False:function(cS,cT){var cU;cU=function(cV){return function(cW){return cV.ok(!cT(cW));};};return function(cX){return d.AddTest(cU,cS,cX);};},FalseA:function(cY,cZ){var c0;c0=function(c1){return function(c2){return e.Delay(function(){return e.Bind(cZ(c2),function(c4){return e.Return(c1.ok(!c4));});});};};return function(c5){return d.AddTestAsync(c0,cY,c5);};},FalseM:function(c6,c7,c8){var c9;c9=function(c_){return function(c$){return c_.ok(!c7(c$),c8);};};return function(da){return d.AddTest(c9,c6,da);};},FalseMA:function(db,dc,dd){var de;de=function(df){return function(dg){return e.Delay(function(){return e.Bind(dc(dg),function(di){return e.Return(df.ok(!di,dd));});});};};return function(dj){return d.AddTestAsync(de,db,dj);};},For:function(dk,dl,dm){return function(dn){var _do,dB,dD;_do=function(dp,dq,dr){var ds,dt,du,dv,dw;if(dr.$==1){dt=dr.$1;du=dr.$0;dv=dp(du);dw=function(dx){var dy,dA;dy=function(){return dx;};dA=dv(dn);return d.Map(dy,dA);};ds=_do(dp,d.Bind(dw,dq),dt);}else{ds=dq;}return ds;};dB=function(dC){return _do(dm(dC),{$:0,$0:dC},j.ofSeq(dl(dC)));};dD=dk(dn);return d.Bind(dB,dD);};},For1:function(dE,dF){return function(dG){var dH,dI,dJ,dQ;dH=dE(dG);if(dH.$==1){dJ=dH.$0;dI={$:1,$0:e.Delay(function(){return e.Bind(dJ,function(dL){var dM,dN,dO,dP;dM=(dF(dL))(dG);if(dM.$==1){dO=dM.$0;dN=dO;}else{dP=dM.$0;dN=e.Return(dP);}return dN;});})};}else{dQ=dH.$0;dI=(dF(dQ))(dG);}return dI;};},ForRandom:function(dR,dS,dT,dU){return function(dV){var dW,d9,d_;dW=function(dX,dY,dZ){var d0,d1,d2,d3,d4;if(dZ.$==1){d1=dZ.$1;d2=dZ.$0;d3=dX(d2);d4=function(d5){var d6,d8;d6=function(){return d5;};d8=d3(dV);return d.Map(d6,d8);};d0=dW(dX,d.Bind(d4,dY),d1);}else{d0=dY;}return d0;};d9=dR(dV);d_=function(d$){var ea,eb;ea=dT(d$);eb=dS(d$);return dW(dU(d$),{$:0,$0:d$},k.toList(k.delay(function(){return k.append(k.map(function(ed){return l.get(ea.Base,ed);},m.range(0,l.length(ea.Base)-1)),k.delay(function(){return k.map(function(){return ea.Next.call(null,null);},m.range(1,eb));}));})));};return d.Bind(d_,d9);};},JsEqual:function(eg,eh,ei){var ej;ej=function(ek){return function(el){return ek.equal(eh(el),ei(el));};};return function(em){return d.AddTest(ej,eg,em);};},JsEqualA:function(en,eo,ep){var eq;eq=function(er){return function(es){return e.Delay(function(){var eu;eu=ep(es);return e.Bind(eo(es),function(ev){return e.Return(er.equal(ev,eu));});});};};return function(ew){return d.AddTestAsync(eq,en,ew);};},JsEqualM:function(ex,ey,ez,eA){var eB;eB=function(eC){return function(eD){return eC.equal(ey(eD),ez(eD),eA);};};return function(eE){return d.AddTest(eB,ex,eE);};},JsEqualMA:function(eF,eG,eH,eI){var eJ;eJ=function(eK){return function(eL){return e.Delay(function(){var eN;eN=eH(eL);return e.Bind(eG(eL),function(eO){return e.Return(eK.equal(eO,eN,eI));});});};};return function(eP){return d.AddTestAsync(eJ,eF,eP);};},NotApproxEqual:function(eQ,eR,eS){var eT;eT=function(eU){return function(eV){var eW,eX;eW=eR(eV);eX=eS(eV);return eU.push(h.abs(eW-eX)>0.0001,eW,eX);};};return function(eY){return d.AddTest(eT,eQ,eY);};},NotApproxEqualM:function(eZ,e0,e1,e2){var e3;e3=function(e4){return function(e5){var e6,e7;e6=e0(e5);e7=e1(e5);return e4.push(h.abs(e6-e7)>0.0001,e6,e7,e2);};};return function(e8){return d.AddTest(e3,eZ,e8);};},NotEqual:function(e9,e_,e$){var fa;fa=function(fb){return function(fc){var fd,fe;fd=e_(fc);fe=e$(fc);return fb.push(!i.Equals(fd,fe),fd,fe);};};return function(ff){return d.AddTest(fa,e9,ff);};},NotEqualA:function(fg,fh,fi){var fj;fj=function(fk){return function(fl){return e.Delay(function(){var fn;fn=fi(fl);return e.Bind(fh(fl),function(fo){return e.Return(fk.push(!i.Equals(fo,fn),fo,fn));});});};};return function(fp){return d.AddTestAsync(fj,fg,fp);};},NotEqualM:function(fq,fr,fs,ft){var fu;fu=function(fv){return function(fw){var fx,fy;fx=fr(fw);fy=fs(fw);return fv.push(!i.Equals(fx,fy),fx,fy,ft);};};return function(fz){return d.AddTest(fu,fq,fz);};},NotEqualMA:function(fA,fB,fC,fD){var fE;fE=function(fF){return function(fG){return e.Delay(function(){var fI;fI=fC(fG);return e.Bind(fB(fG),function(fJ){return e.Return(fF.push(!i.Equals(fJ,fI),fJ,fI,fD));});});};};return function(fK){return d.AddTestAsync(fE,fA,fK);};},Raises:function(fL,fM){var fN;fN=function(fO){return function(fP){var fQ,fR,fS;try{fR=fM(fP);fQ=fO.ok(false,"Expected raised exception");}catch(fS){fQ=fO.ok(true);}return fQ;};};return function(fT){return d.AddTest(fN,fL,fT);};},RaisesA:function(fU,fV){var fW;fW=function(fX){return function(fY){var fZ;fZ=fV(fY);return e.Delay(function(){return e.TryWith(e.Delay(function(){return e.Bind(fZ,function(){return e.Return(fX.ok(false,"Expected raised exception"));});}),function(){return e.Return(fX.ok(true));});});};};return function(f4){return d.AddTestAsync(fW,fU,f4);};},RaisesM:function(f5,f6,f7){var f8;f8=function(f9){return function(f_){var f$,ga,gb;try{ga=f6(f_);f$=f9.ok(false,f7);}catch(gb){f$=f9.ok(true,f7);}return f$;};};return function(gc){return d.AddTest(f8,f5,gc);};},RaisesMA:function(gd,ge,gf){var gg;gg=function(gh){return function(gi){var gj;gj=ge(gi);return e.Delay(function(){return e.TryWith(e.Delay(function(){return e.Bind(gj,function(){return e.Return(gh.ok(false,gf));});}),function(){return e.Return(gh.ok(true,gf));});});};};return function(go){return d.AddTestAsync(gg,gd,go);};},Return:function(gp){return function(){return{$:0,$0:gp};};},RunSubtest:function(gr,gs){return function(gt){var gu,gw;gu=function(gv){return(gs(gv))(gt);};gw=gr(gt);return d.Bind(gu,gw);};},True:function(gx,gy){var gz;gz=function(gA){return function(gB){return gA.ok(gy(gB));};};return function(gC){return d.AddTest(gz,gx,gC);};},TrueA:function(gD,gE){var gF;gF=function(gG){return function(gH){return e.Delay(function(){return e.Bind(gE(gH),function(gJ){return e.Return(gG.ok(gJ));});});};};return function(gK){return d.AddTestAsync(gF,gD,gK);};},TrueM:function(gL,gM,gN){var gO;gO=function(gP){return function(gQ){return gP.ok(gM(gQ),gN);};};return function(gR){return d.AddTest(gO,gL,gR);};},TrueMA:function(gS,gT,gU){var gV;gV=function(gW){return function(gX){return e.Delay(function(){return e.Bind(gT(gX),function(gZ){return e.Return(gW.ok(gZ,gU));});});};};return function(g0){return d.AddTestAsync(gV,gS,g0);};},Yield:function(g1){return function(){return{$:0,$0:g1};};},Zero:function(){return function(){return{$:0,$0:undefined};};}},{New:function(){return $.New(this,{});}}),Test:function(g4){return n.New(g4);},TestBuilder:$.Class({Run:function(g5){return g.test(this.name,function(g6){var g7,g8,g9,g_,g$,ha,hh;try{g8=g5(g6);if(g8.$==1){g_=g8.$0;g$=g6.async();ha=e.Delay(function(){return e.TryFinally(e.Delay(function(){return e.TryWith(e.Delay(function(){return e.Bind(g_,function(){return e.Return(null);});}),function(){return e.Return(g6.ok(false,"Test threw an unexpected asynchronous exception"));});}),function(){return g$(null);});});g9=e.Start(ha,{$:0});}else{g9=null;}g7=g9;}catch(hh){g7=g6.ok(false,"Test threw an unexpected synchronous exception");}return g7;});}},{New:function(hi){var hj;hj=$.New(this,c.New());hj.name=hi;return hj;}})},Random:{ArrayOf:function(hk){return{Base:[[]],Next:function(){var hm;hm=o.Natural().Next.call(null,null)%100;return l.init(hm,function(){return hk.Next.call(null,null);});}};},Boolean:$.Field(function(){return{Base:[true,false],Next:function(){return o.StandardUniform().Next.call(null,null)>0.5;}};}),Const:function(hp){return{Base:[hp],Next:function(){return hp;}};},Exponential:function(hr){return{Base:[],Next:function(){var ht;ht=o.StandardUniform().Next.call(null,null);return-h.log(1-ht)/hr;}};},Float:$.Field(function(){return{Base:[0],Next:function(){var hv;hv=o.Boolean().Next.call(null,null)?1:-1;return hv*o.Exponential(0.1).Next.call(null,null);}};}),FloatExhaustive:$.Field(function(){return{Base:[0,p,q,-q],Next:function(){return o.Float().Next.call(null,null);}};}),FloatWithin:function(hx,hy){return{Base:[hx,hy],Next:function(){return hx+(hy-hx)*h.random();}};},Implies:function(hA,hB){return!hA?true:hB;},Imply:function(hC,hD){return o.Implies(hC,hD);},Int:$.Field(function(){return{Base:[0,1,-1],Next:function(){return h.round(o.Float().Next.call(null,null));}};}),ListOf:function(hF){var hG,hI;hG=function(hH){return j.ofArray(hH);};hI=o.ArrayOf(hF);return o.Map(hG,hI);},Map:function(hJ,hK){var hL;hL=hK.Next;return{Base:l.map(hJ,hK.Base),Next:function(hM){return hJ(hL(hM));}};},Mix:function(hN,hO){var hP;hP=[false];return{Base:hN.Base.concat(hO.Base),Next:function(){hP[0]=!hP[0];return hP[0]?hN.Next.call(null,null):hO.Next.call(null,null);}};},Natural:$.Field(function(){var hR;hR=o.Int().Next;return{Base:[0,1],Next:function(hS){var hT;hT=hR(hS);return h.abs(hT);}};}),OneOf:function(hU){var hV;hV=o.Within(1,l.length(hU));return{Base:hU,Next:function(){return l.get(hU,hV.Next.call(null,null)-1);}};},OptionOf:function(hX){return o.Mix(o.Const({$:0}),o.Map(function(hY){return{$:1,$0:hY};},hX));},StandardUniform:$.Field(function(){return{Base:[],Next:function(){return h.random();}};}),String:$.Field(function(){return{Base:[""],Next:function(){var h1,h2;h1=o.Natural().Next.call(null,null)%100;h2=l.init(h1,function(){return o.Int().Next.call(null,null)%256;});return r.fromCharCode.apply(undefined,h2);}};}),StringExhaustive:$.Field(function(){return{Base:[null,""],Next:o.String().Next};}),Tuple2Of:function(h4,h5){return{Base:k.toArray(k.delay(function(){return k.collect(function(h7){return k.map(function(h8){return[h7,h8];},h5.Base);},h4.Base);})),Next:function(){return[h4.Next.call(null,null),h5.Next.call(null,null)];}};},Tuple3Of:function(h_,h$,ia){return{Base:k.toArray(k.delay(function(){return k.collect(function(ic){return k.collect(function(id){return k.map(function(ie){return[ic,id,ie];},ia.Base);},h$.Base);},h_.Base);})),Next:function(){return[h_.Next.call(null,null),h$.Next.call(null,null),ia.Next.call(null,null)];}};},Within:function(ig,ih){return{Base:[ig,ih],Next:function(){return o.Natural().Next.call(null,null)%(ih-ig)+ig;}};}}}}});$.OnInit(function(){a=$.Safe($$.WebSharper.Testing);b=$.Safe(a.Pervasives);c=$.Safe(b.SubtestBuilder);d=$.Safe(b.Runner);e=$.Safe($$.WebSharper.Concurrency);f=$.Safe(b.SectionBuilder);g=$.Safe($$.QUnit);h=$.Safe($$.Math);i=$.Safe($$.WebSharper.Unchecked);j=$.Safe($$.WebSharper.List);k=$.Safe($$.WebSharper.Seq);l=$.Safe($$.WebSharper.Arrays);m=$.Safe($$.WebSharper.Operators);n=$.Safe(b.TestBuilder);o=$.Safe(a.Random);p=$.Safe($$.NaN);q=$.Safe($$.Infinity);return r=$.Safe($$.String);});$.OnLoad(function(){$.Inherit(n,c);o.StringExhaustive();o.String();o.StandardUniform();o.Natural();o.Int();o.FloatExhaustive();o.Float();o.Boolean();b.Do();return;});}());
